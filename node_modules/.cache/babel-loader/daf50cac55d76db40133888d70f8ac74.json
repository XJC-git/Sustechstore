{"remainingRequest":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\babel-loader\\lib\\index.js!D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\src\\components\\SearchBox.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\src\\components\\SearchBox.vue","mtime":1640263457129},{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\babel.config.js","mtime":1637143277264},{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636798923061},{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\babel-loader\\lib\\index.js","mtime":1636798923794},{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636798923061},{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\vue-loader\\lib\\index.js","mtime":1636798923951}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgU3RvcmVJbmZvIGZyb20gIi4uL3V0aWxzL1N0b3JlSW5mbyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VhcmNoOiAiIiwKICAgICAgLy/lvZPliY3ovpPlhaXmoYbnmoTlgLwKICAgICAgaXNGb2N1czogZmFsc2UsCiAgICAgIC8v5piv5ZCm6IGa54SmCiAgICAgIGhvdFNlYXJjaExpc3Q6IFsi5pqC5peg54Ot6Zeo5pCc57SiIl0sCiAgICAgIC8v54Ot6Zeo5pCc57Si5pWw5o2uCiAgICAgIGhpc3RvcnlTZWFyY2hMaXN0OiBbXSwKICAgICAgLy/ljoblj7LmkJzntKLmlbDmja4KICAgICAgaGlzdG9yeTogZmFsc2UKICAgIH07CiAgfSwKICBpbmplY3Q6IFsicmVsb2FkIl0sCiAgbWV0aG9kczogewogICAgZm9jdXM6IGZ1bmN0aW9uIGZvY3VzKCkgewogICAgICB0aGlzLmlzRm9jdXMgPSB0cnVlOwogICAgICB0aGlzLmhpc3RvcnlTZWFyY2hMaXN0ID0gU3RvcmVJbmZvLmxvYWRIaXN0b3J5KCkgPT0gbnVsbCA/IFtdIDogU3RvcmVJbmZvLmxvYWRIaXN0b3J5KCk7CiAgICAgIHRoaXMuaGlzdG9yeSA9IHRoaXMuaGlzdG9yeVNlYXJjaExpc3QubGVuZ3RoID09IDAgPyBmYWxzZSA6IHRydWU7CiAgICB9LAogICAgYmx1cjogZnVuY3Rpb24gYmx1cigpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB0aGlzLnNlYXJjaEJveFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBzZWxmLmlzRm9jdXMgPSBmYWxzZTsKICAgICAgfSwgMzAwKTsKICAgIH0sCiAgICBlbnRlclNlYXJjaEJveEhhbmxkZXI6IGZ1bmN0aW9uIGVudGVyU2VhcmNoQm94SGFubGRlcigpIHsKICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuc2VhcmNoQm94VGltZW91dCk7CiAgICB9LAogICAgc2VhcmNoSGFuZGxlcjogZnVuY3Rpb24gc2VhcmNoSGFuZGxlcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBleGlzdCA9IHRoaXMuaGlzdG9yeVNlYXJjaExpc3QuZmlsdGVyKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIHJldHVybiB2YWx1ZS5uYW1lID09IF90aGlzLnNlYXJjaDsKICAgICAgfSkubGVuZ3RoID09IDAgPyBmYWxzZSA6IHRydWU7CgogICAgICBpZiAoIWV4aXN0KSB7CiAgICAgICAgdGhpcy5oaXN0b3J5U2VhcmNoTGlzdC5wdXNoKHsKICAgICAgICAgIG5hbWU6IHRoaXMuc2VhcmNoLAogICAgICAgICAgdHlwZTogImluZm8iCiAgICAgICAgfSk7CiAgICAgICAgU3RvcmVJbmZvLnNhdmVIaXN0b3J5KHRoaXMuaGlzdG9yeVNlYXJjaExpc3QpOwogICAgICB9CgogICAgICB0aGlzLmhpc3RvcnkgPSB0aGlzLmhpc3RvcnlTZWFyY2hMaXN0Lmxlbmd0aCA9PSAwID8gZmFsc2UgOiB0cnVlOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ1NFVF9LRVknLCB0aGlzLnNlYXJjaCk7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnU0VUX1NMT19JTkQnLCAxKTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdTRVRfUkVMT0FEJywgdHJ1ZSk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvb3ZlcnZpZXcnKTsKICAgICAgdGhpcy5yZWxvYWQoKTsKICAgIH0sCiAgICBjbG9zZUhhbmRsZXI6IGZ1bmN0aW9uIGNsb3NlSGFuZGxlcihzZWFyY2gpIHsKICAgICAgdGhpcy5oaXN0b3J5U2VhcmNoTGlzdC5zcGxpY2UodGhpcy5oaXN0b3J5U2VhcmNoTGlzdC5pbmRleE9mKHNlYXJjaCksIDEpOwogICAgICBTdG9yZUluZm8uc2F2ZUhpc3RvcnkodGhpcy5oaXN0b3J5U2VhcmNoTGlzdCk7CiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnNlYXJjaEJveFRpbWVvdXQpOwoKICAgICAgaWYgKHRoaXMuaGlzdG9yeVNlYXJjaExpc3QubGVuZ3RoID09IDApIHsKICAgICAgICB0aGlzLmhpc3RvcnkgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIHJlbW92ZUFsbEhpc3Rvcnk6IGZ1bmN0aW9uIHJlbW92ZUFsbEhpc3RvcnkoKSB7CiAgICAgIFN0b3JlSW5mby5yZW1vdmVBbGxIaXN0b3J5KCk7CiAgICB9LAogICAgaW5wdXRIaXN0b3J5OiBmdW5jdGlvbiBpbnB1dEhpc3RvcnkobmFtZSkgewogICAgICB0aGlzLnNlYXJjaCA9IG5hbWU7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgaXNIaXN0b3J5U2VhcmNoOiBmdW5jdGlvbiBpc0hpc3RvcnlTZWFyY2goKSB7CiAgICAgIHJldHVybiB0aGlzLmlzRm9jdXMgJiYgIXRoaXMuc2VhcmNoOwogICAgfSwKICAgIGlzU2VhcmNoOiBmdW5jdGlvbiBpc1NlYXJjaCgpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNGb2N1cyAmJiAhdGhpcy5zZWFyY2g7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["SearchBox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA,OAAA,SAAA,MAAA,oBAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AACA;AACA,MAAA,OAAA,EAAA,KAFA;AAEA;AACA,MAAA,aAAA,EAAA,CAAA,QAAA,CAHA;AAGA;AACA,MAAA,iBAAA,EAAA,EAJA;AAIA;AACA,MAAA,OAAA,EAAA;AALA,KAAA;AAOA,GATA;AAUA,EAAA,MAAA,EAAA,CAAA,QAAA,CAVA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,WAAA,OAAA,GAAA,IAAA;AACA,WAAA,iBAAA,GACA,SAAA,CAAA,WAAA,MAAA,IAAA,GAAA,EAAA,GAAA,SAAA,CAAA,WAAA,EADA;AAEA,WAAA,OAAA,GAAA,KAAA,iBAAA,CAAA,MAAA,IAAA,CAAA,GAAA,KAAA,GAAA,IAAA;AACA,KANA;AAOA,IAAA,IAPA,kBAOA;AACA,UAAA,IAAA,GAAA,IAAA;AACA,WAAA,gBAAA,GAAA,UAAA,CAAA,YAAA;AACA,QAAA,IAAA,CAAA,OAAA,GAAA,KAAA;AACA,OAFA,EAEA,GAFA,CAAA;AAGA,KAZA;AAaA,IAAA,qBAbA,mCAaA;AACA,MAAA,YAAA,CAAA,KAAA,gBAAA,CAAA;AACA,KAfA;AAgBA,IAAA,aAhBA,2BAgBA;AAAA;;AACA,UAAA,KAAA,GACA,KAAA,iBAAA,CAAA,MAAA,CAAA,UAAA,KAAA,EAAA;AACA,eAAA,KAAA,CAAA,IAAA,IAAA,KAAA,CAAA,MAAA;AACA,OAFA,EAEA,MAFA,IAEA,CAFA,GAGA,KAHA,GAIA,IALA;;AAMA,UAAA,CAAA,KAAA,EAAA;AACA,aAAA,iBAAA,CAAA,IAAA,CAAA;AAAA,UAAA,IAAA,EAAA,KAAA,MAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;AACA,QAAA,SAAA,CAAA,WAAA,CAAA,KAAA,iBAAA;AACA;;AACA,WAAA,OAAA,GAAA,KAAA,iBAAA,CAAA,MAAA,IAAA,CAAA,GAAA,KAAA,GAAA,IAAA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,SAAA,EAAA,KAAA,MAAA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,aAAA,EAAA,CAAA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,YAAA,EAAA,IAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,WAAA;AACA,WAAA,MAAA;AACA,KAjCA;AAkCA,IAAA,YAlCA,wBAkCA,MAlCA,EAkCA;AACA,WAAA,iBAAA,CAAA,MAAA,CAAA,KAAA,iBAAA,CAAA,OAAA,CAAA,MAAA,CAAA,EAAA,CAAA;AACA,MAAA,SAAA,CAAA,WAAA,CAAA,KAAA,iBAAA;AACA,MAAA,YAAA,CAAA,KAAA,gBAAA,CAAA;;AACA,UAAA,KAAA,iBAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,aAAA,OAAA,GAAA,KAAA;AACA;AACA,KAzCA;AA0CA,IAAA,gBA1CA,8BA0CA;AACA,MAAA,SAAA,CAAA,gBAAA;AACA,KA5CA;AA6CA,IAAA,YA7CA,wBA6CA,IA7CA,EA6CA;AACA,WAAA,MAAA,GAAA,IAAA;AACA;AA/CA,GAXA;AA4DA,EAAA,QAAA,EAAA;AACA,IAAA,eADA,6BACA;AACA,aAAA,KAAA,OAAA,IAAA,CAAA,KAAA,MAAA;AACA,KAHA;AAIA,IAAA,QAJA,sBAIA;AACA,aAAA,KAAA,OAAA,IAAA,CAAA,KAAA,MAAA;AACA;AANA;AA5DA,CAAA","sourcesContent":["<template>\r\n  <div style=\"background:#eeeeee\">\r\n    <el-row type=\"flex\" justify=\"center\" style=\"height:80px\">\r\n      <el-col :span=\"10\" class=\"center\" >\r\n        <el-input\r\n          v-model=\"search\"\r\n          @focus=\"focus\"\r\n          @blur=\"blur\"\r\n          @keyup.enter.native=\"searchHandler\"\r\n          placeholder=\"你想买什么，你想卖什么？\"\r\n        >\r\n          <el-button slot=\"append\" icon=\"el-icon-search\" id=\"search\" @click=\"searchHandler\">搜索</el-button>\r\n        </el-input>\r\n        <!---设置z-index优先级,防止被走马灯效果遮挡-->\r\n        <el-card\r\n          @mouseenter=\"enterSearchBoxHanlder\"\r\n          v-if=\"isSearch\"\r\n          class=\"box-card\"\r\n          id=\"search-box\"\r\n          style=\"z-index:20\"\r\n        >\r\n          <dl v-if=\"isHistorySearch\">\r\n            <dt class=\"search-title\" v-if=\"history\">历史搜索</dt>\r\n            <el-button class=\"remove-history\" v-if=\"history\" @click=\"removeAllHistory\" icon=\"el-icon-delete\">\r\n              清空历史记录\r\n            </el-button>\r\n            <el-tag\r\n              v-for=\"search in historySearchList\"\r\n              :key=\"search.id\"\r\n              closable\r\n              :type=\"search.type\"\r\n              @close=\"closeHandler(search)\"\r\n              style=\"margin-right:5px; margin-bottom:5px; cursor:pointer;\"\r\n              @click.native=\"inputHistory(search.name)\"\r\n            >{{search.name}}</el-tag>\r\n            <dt class=\"search-title\">热门搜索</dt>\r\n            <dd v-for=\"search in hotSearchList\" :key=\"search.id\">{{search}}</dd>\r\n          </dl>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport StoreInfo from \"../utils/StoreInfo\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      search: \"\", //当前输入框的值\r\n      isFocus: false, //是否聚焦\r\n      hotSearchList: [\"暂无热门搜索\"], //热门搜索数据\r\n      historySearchList: [], //历史搜索数据\r\n      history: false\r\n    };\r\n  },\r\n  inject: [\"reload\"],\r\n  methods: {\r\n    focus() {\r\n      this.isFocus = true;\r\n      this.historySearchList =\r\n        StoreInfo.loadHistory() == null ? [] : StoreInfo.loadHistory();\r\n      this.history = this.historySearchList.length == 0 ? false : true;\r\n    },\r\n    blur() {\r\n      var self = this;\r\n      this.searchBoxTimeout = setTimeout(function() {\r\n        self.isFocus = false;\r\n      }, 300);\r\n    },\r\n    enterSearchBoxHanlder() {\r\n      clearTimeout(this.searchBoxTimeout);\r\n    },\r\n    searchHandler() {\r\n      let exist =\r\n        this.historySearchList.filter(value => {\r\n          return value.name == this.search;\r\n        }).length == 0\r\n          ? false\r\n          : true;\r\n      if (!exist) {\r\n        this.historySearchList.push({ name: this.search, type: \"info\" });\r\n        StoreInfo.saveHistory(this.historySearchList);\r\n      }\r\n      this.history = this.historySearchList.length == 0 ? false : true;\r\n      this.$store.commit('SET_KEY', this.search)\r\n      this.$store.commit('SET_SLO_IND', 1)\r\n      this.$store.commit('SET_RELOAD', true)\r\n      this.$router.push('/overview')\r\n      this.reload()\r\n    },\r\n    closeHandler(search) {\r\n      this.historySearchList.splice(this.historySearchList.indexOf(search), 1);\r\n      StoreInfo.saveHistory(this.historySearchList);\r\n      clearTimeout(this.searchBoxTimeout);\r\n      if (this.historySearchList.length == 0) {\r\n        this.history = false;\r\n      }\r\n    },\r\n    removeAllHistory() {\r\n      StoreInfo.removeAllHistory();\r\n    },\r\n    inputHistory(name) {\r\n      this.search = name;\r\n    }\r\n  },\r\n  computed: {\r\n    isHistorySearch() {\r\n      return this.isFocus && !this.search;\r\n    },\r\n    isSearch() {\r\n      return this.isFocus && !this.search;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.center {\r\n  margin-top: 20px;\r\n  margin-bottom: 20px;\r\n}\r\n#search {\r\n  background-color: #FF5809;\r\n  border-radius: 0%;\r\n  color: white;\r\n}\r\n.search-title {\r\n  color: #bdbaba;\r\n  font-size: 15px;\r\n  margin-bottom: 5px;\r\n}\r\n.remove-history {\r\n  color: #bdbaba;\r\n  font-size: 15px;\r\n  float: right;\r\n  margin-top: -22px;\r\n}\r\n#search-box {\r\n  width: 100%;\r\n  height: 300px;\r\n  margin-top: 0px;\r\n  padding-bottom: 20px;\r\n  text-align: left;\r\n}\r\n</style>"],"sourceRoot":"src/components"}]}