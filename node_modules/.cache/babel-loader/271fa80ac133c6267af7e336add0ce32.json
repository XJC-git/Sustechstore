{"remainingRequest":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\babel-loader\\lib\\index.js!D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\src\\views\\Login.vue","mtime":1640517903434},{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\babel.config.js","mtime":1637143277264},{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636798923061},{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\babel-loader\\lib\\index.js","mtime":1636798923794},{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636798923061},{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\vue-loader\\lib\\index.js","mtime":1636798923951}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1NUI2Nlx1NEU2MFx1NTM4Nlx1NTNGMlx1OEQ0NFx1NjU5OS9cdTU5MjdcdTRFMDlcdTRFMEFcdTVCNjZcdTY3MUYvXHU5NzYyXHU1NDExXHU1QkY5XHU4QzYxL1Byb2plY3Qvc3VzdGVjaC1zdG9yZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBjaGVja05hbWUgPSBmdW5jdGlvbiBjaGVja05hbWUocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIGlmICghdmFsdWUpIHsKICAgICAgICByZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKCfnlKjmiLflkI3kuI3og73kuLrnqbonKSk7CiAgICAgIH0KCiAgICAgIGNhbGxiYWNrKCk7CiAgICB9OwoKICAgIHZhciB2YWxpZGF0ZVBhc3MgPSBmdW5jdGlvbiB2YWxpZGF0ZVBhc3MocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpeWvhueggScpKTsKICAgICAgfQoKICAgICAgY2FsbGJhY2soKTsKICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgbG9naW5Gb3JtOiB7CiAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgIHBhc3M6ICcnCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgcGFzczogW3sKICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVQYXNzLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgdXNlcm5hbWU6IFt7CiAgICAgICAgICB2YWxpZGF0b3I6IGNoZWNrTmFtZSwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHZhbGlkKSB7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kYXhpb3MucG9zdCgnL3Jvb3QnICsgJy9sb2dpbicsIHsKICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogX3RoaXMubG9naW5Gb3JtLnVzZXJuYW1lLAogICAgICAgICAgICAgICAgICAgIHBhc3M6IF90aGlzLmxvZ2luRm9ybS5wYXNzCiAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzcC5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgLy8gcmVzcC5kYXRh6KGo56S66L+U5Zue55qE5pWw5o2uCiAgICAgICAgICAgICAgICAgICAgICB0aGF0LiRzdG9yZS5jb21taXQoJ1NFVF9UT0tFTicsIHJlc3AuZGF0YS50b2tlbik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgIHRoYXQuJG1lc3NhZ2UuZXJyb3IoJ+eUqOaIt+WQjeaIluWvhueggemUmeivrycpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRheGlvcy5nZXQoJy9yb290JyArICcvdXNlci9iYXNpYycpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgIHRoYXQuJHN0b3JlLmNvbW1pdCgnU0VUX1VTRVInLCBKU09OLnN0cmluZ2lmeShyZXMuZGF0YSkpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRheGlvcy5nZXQoJy9yb290JyArICcvdXNlci9pY29uJykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICAgICAgICAgICAgICAgICAgdGhhdC4kc3RvcmUuY29tbWl0KCdTRVRfVVNFUklNRycsIHJlcy5kYXRhKTsKICAgICAgICAgICAgICAgICAgICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBoYW5kbGUtY2FsbGJhY2stZXJyCgogICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+aPkOS6pOmUmeivrycpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgZmFsc2UpOwoKICAgICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoYXQuJHJvdXRlci5wdXNoKCcvJyk7CgogICAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICB9KSk7CgogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKTsKICAgIH0sCiAgICByZXNldEZvcm06IGZ1bmN0aW9uIHJlc2V0Rm9ybShmb3JtTmFtZSkgewogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS5yZXNldEZpZWxkcygpOwogICAgfSwKICAgIFJlZ2lzdGVyOiBmdW5jdGlvbiBSZWdpc3RlcigpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9yZWdpc3RlcicpOwogICAgfSwKICAgIHJlcGFzc3dvcmQ6IGZ1bmN0aW9uIHJlcGFzc3dvcmQoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvcmV0cmlldmUnKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"main\">\n    <div class=\"loginbox\">\n      <div class=\"loginbox-in\">\n        <div class=\"name\">SUSTech Store</div>\n        <el-form :model=\"loginForm\" status-icon :rules=\"rules\" ref=\"loginForm\" label-width=\"100px\" class=\"demo-ruleForm\">\n          <el-form-item prop=\"username\">\n            <el-input v-model=\"loginForm.username\" auto-complete=\"off\" placeholder=\"请输入用户名\">\n              <i slot=\"prefix\" class=\"el-input__icon el-icon-s-custom\"\n                 style=\"font-size: 20px\"></i>\n            </el-input>\n          </el-form-item>\n          <el-form-item prop=\"pass\">\n            <el-input type=\"password\" v-model=\"loginForm.pass\" auto-complete=\"off\" placeholder=\"请输入密码\">\n              <i slot=\"prefix\" class=\"el-input__icon el-icon-edit\" style=\"font-size: 20px\"></i>\n            </el-input>\n          </el-form-item>\n        </el-form>\n        <div class=\"tips\"  style=\"float:left;\">\n          <el-row type=\"flex\" class=\"dd\">\n            <el-col span:10 offset:1>\n              <el-link type=\"white\" @click=\"repassword()\">忘记密码</el-link>\n            </el-col>\n            <el-col span:9 offset:4>\n              <el-link type=\"white\" @click=\"Register\">还没有账号？点击注册</el-link>\n            </el-col>\n          </el-row>\n          <el-row style=\"margin-left: 30px\">\n            <el-button  type=\"primary\" size = 'medium' @click=\"submitForm('loginForm')\">提交</el-button>\n             <el-button  size='medium' @click=\"resetForm('loginForm')\">重置</el-button>\n          </el-row>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  data () {\n    var checkName = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error('用户名不能为空'))\n      }\n      callback()\n    }\n    var validatePass = (rule, value, callback) => {\n      if (value === '') {\n        callback(new Error('请输入密码'))\n      }\n      callback()\n    }\n    return {\n      loginForm: {\n        username: '',\n        pass: ''\n      },\n      rules: {\n        pass: [\n          { validator: validatePass, trigger: 'blur' }\n        ],\n        username: [\n          { validator: checkName, trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  methods: {\n    submitForm (formName) {\n      const that = this\n      this.$refs[formName].validate(async (valid) => {\n        if (valid) {\n          await this.$axios.post('/root'+'/login', {\n            username: this.loginForm.username,\n            pass: this.loginForm.pass\n          }).then(function (resp) {\n            if (resp.status === 200) { // resp.data表示返回的数据\n              that.$store.commit('SET_TOKEN', resp.data.token)\n            }\n          }).catch(function (error) {\n            if (error.response) {\n              that.$message.error('用户名或密码错误')\n            }\n          })\n          await this.$axios.get('/root'+'/user/basic').then(function (res) {\n            if (res.status === 200) {\n              that.$store.commit('SET_USER', JSON.stringify(res.data))\n            }\n          })\n          await this.$axios.get('/root'+'/user/icon').then(function (res) {\n            if (res.status === 200) {\n              console.log(res.data)\n              that.$store.commit('SET_USERIMG', res.data)\n            }\n            // eslint-disable-next-line handle-callback-err\n          }).catch(function (error) {\n            console.log(error)\n          })\n        } else {\n          this.$message.warning('提交错误')\n          return false\n        }\n        await that.$router.push('/')\n      })\n    },\n    resetForm (formName) {\n      this.$refs[formName].resetFields()\n    },\n    Register () {\n      this.$router.push('/register')\n    },\n    repassword () {\n      this.$router.push('/retrieve')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.loginbox{\n  background-image: url('./../assets/b.jpg');\n  display:flex;\n  position:absolute;\n  width:500px;\n  height:400px;\n  top:45%;\n  left:50%;\n  transform:translate(-50%,-50%);\n  box-shadow: 0 12px 16px 0  rgba(0,0,0,0.24), 0 17px 50px 0 #4E655D;\n}\n.loginbox-in{\n  margin-left: 10px;\n  width:500px;\n  margin-right: 60px;\n}\n.tips{\n  margin-left: 10px;\n  width:400px;\n\n}\n\n.demo-ruleForm{\n  margin-top:30px;\n  margin-left:-30px;\n}\n.name{\n  margin-top:40px;\n  margin-left: 40px;\n  font-weight:bold;\n  font-size:30px;\n  font-family: 微软雅黑,serif;\n  color: #0e0101;\n}\n.main{\n  background-image: url(\"./../assets/back.jpg\");\n  width:100%;\n  height:100%;\n  position:fixed;\n  background-size:100% 100%\n}\n.dd {\n  margin-bottom: 20px;\n}\n</style>\n"],"sourceRoot":"src/views"}]}