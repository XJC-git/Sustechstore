{"remainingRequest":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\src\\components\\HeaderBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\src\\components\\HeaderBar.vue","mtime":1640767118986},{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636798923061},{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\babel-loader\\lib\\index.js","mtime":1636798923794},{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636798923061},{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\vue-loader\\lib\\index.js","mtime":1636798923951}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOw0KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsNCiAgICBleHBvcnQgZGVmYXVsdCB7DQogICAgICAgIGRhdGEoKSANCiAgICAgICAgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgc2xvZ2FuTGlzdDogWydXZWxjb21lIHRvIFN1c3RlY2ggU3RvcmUhJywNCiAgICAgICAgICAgICAgICAgICAgICAgICdEaWQgWW91IEZpbmQgV2hhdCBZb3UgV2FudD8nLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ1NlbGwgWW91ciBPd24gTWVyY2hhbmRpc2UhJywNCiAgICAgICAgICAgICAgICAgICAgICAgICdXYW50IHRvIEJ1eSBUaGVtPyBEbyBJdCBOb3chJywNCiAgICAgICAgICAgICAgICAgICAgICAgICdUaGF0IExvb2tzIEdvb2QsIFJpZ2h0PycsDQogICAgICAgICAgICAgICAgICAgICAgICAnQXJlIHlvdSBzYXRpc2ZpZWQgd2l0aCB0aGVtPyddLA0KICAgICAgICAgICAgICBzbG9nYW5faW5kZXg6IDAsDQogICAgICAgICAgICAgIHNsb2dhbjogJ1dlbGNvbWUgdG8gU3VzdGVjaCBTdG9yZSEnLA0KICAgICAgICAgICAgICBidG5fdGV4dDogJ+ivt+eZu+W9lScsDQogICAgICAgICAgICAgIGxvZ2dpbjogZmFsc2UsDQogICAgICAgICAgICAgIHBvcF90ZXh0Oifmtojmga8nLA0KICAgICAgICAgICAgICBtaW5lSWQ6JycsDQogICAgICAgICAgICAgIHJlYWREYXRhOiBbXSwNCiAgICAgICAgICAgICAgaW5mOiBbXSwNCiAgICAgICAgICAgICAgY2hhdEluZm86W10sDQogICAgICAgICAgICAgIGlkOicnLA0KICAgICAgICAgICAgICBtaW5lVG9rZW46bnVsbA0KICAgICAgICAgICAgfTsNCiAgICAgICAgfSwNCiAgICAgICAgbWV0aG9kczogew0KICAgICAgICAgIGJhY2tIb21lKCl7DQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpDQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ1NFVF9TTE9fSU5EJywgMCkNCiAgICAgICAgICB9LA0KICAgICAgICAgIGdvTG9nKCl7DQogICAgICAgICAgICBpZighdGhpcy5sb2dnaW4pew0KICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luJykNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2V7DQogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvY2VudGVyJykNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9LA0KICAgICAgICAgIGdvQ2hhdHRpbmdSZXNwb25zZShpZCkgew0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2lkJytpZCkNCiAgICAgICAgICAgIGNvbnN0IHRoYXQ9dGhpczsNCiAgICAgICAgICAgIHRoaXMuZ2V0Q2hhdEluZm8oaWQpDQogICAgICAgICAgICB0aGF0LiRzdG9yZS5jb21taXQoJ1NFVF9DSEFUX0lORk8nLCBKU09OLnN0cmluZ2lmeSh0aGlzLmNoYXRpbmZvKSkNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuY2hhdEluZm8pDQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGF0LiRzdG9yZS5zdGF0ZS5jaGF0LmNoYXR0ZXJfaW5mbykNCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvY2hhdHJlc3BvbnNlJykNCiAgICAgICAgICB9LA0KICAgICAgICAgIGFzeW5jIGdldENoYXRSZWFkKCkgew0KICAgICAgICAgICAgY29uc3QgdGhhdD10aGlzOw0KICAgICAgICAgICAgdGhpcy5taW5lVG9rZW49dGhhdC4kc3RvcmUuc3RhdGUudXNlci50b2tlbjsgICAgICAgICAgDQogICAgICAgICAgICB0aGlzLmlkID0gSlNPTi5wYXJzZSh0aGF0LiRzdG9yZS5zdGF0ZS51c2VyLnVzZXIpLmlkOw0KICAgICAgICAgICAgaWYodGhpcy5taW5lVG9rZW4gIT09IG51bGwpew0KICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLm1pbmVUb2tlbikNCiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5pZCkNCiAgICAgICAgICAgICAgbGV0IGZpbGVMaXN0ID0gbmV3IEZvcm1EYXRhKCkNCiAgICAgICAgICAgICAgZmlsZUxpc3QuYXBwZW5kKCdtaW5lSWQnLCB0aGlzLmlkKQ0KICAgICAgICAgICAgICBhd2FpdCBheGlvcyh7DQogICAgICAgICAgICAgICAgdXJsOiIvcm9vdCIrIi9jaGF0cmVhZCIsDQogICAgICAgICAgICAgICAgbWV0aG9kOidwb3N0JywNCiAgICAgICAgICAgICAgICBkYXRhOmZpbGVMaXN0DQogICAgICAgICAgICAgIH0pLnRoZW4ocmVzID0+ICh0aGlzLnJlYWREYXRhID0gcmVzLmRhdGEpKQ0KICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnJlYWREYXRhKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0sIA0KICAgICAgICAgIGFzeW5jIGdldENoYXRJbmZvKGlkKSB7DQogICAgICAgICAgICBsZXQgZmlsZUxpc3QgPSBuZXcgRm9ybURhdGEoKQ0KICAgICAgICAgICAgZmlsZUxpc3QuYXBwZW5kKCdpZCcsaWQudG9TdHJpbmcoKSkNCiAgICAgICAgICAgIGF3YWl0IGF4aW9zKHsNCiAgICAgICAgICAgICAgdXJsOiIvcm9vdCIrIi91c2VyL2lkIiwNCiAgICAgICAgICAgICAgbWV0aG9kOidwb3N0JywNCiAgICAgICAgICAgICAgZGF0YTpmaWxlTGlzdA0KICAgICAgICAgICAgfSkudGhlbihyZXMgPT4gKHRoaXMuY2hhdEluZm8gPSByZXMuZGF0YSwNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXMnK3RoaXMuY2hhdEluZm8pKQ0KICAgICAgICAgICAgKSAgIA0KICAgICAgICAgICAgY29uc29sZS5sb2coJ2dldENoYXRJbmZvcXEnK3RoaXMuY2hhdEluZm8ucXEpDQogICAgICAgICAgfSwgDQogICAgICAgICAgYXN5bmMgZ2V0Q2hhdE5ldyhpZCkgew0KICAgICAgICAgICAgbGV0IGZpbGVMaXN0ID0gbmV3IEZvcm1EYXRhKCkNCiAgICAgICAgICAgIGZpbGVMaXN0LmFwcGVuZCgnaWQnLGlkKQ0KICAgICAgICAgICAgYXdhaXQgYXhpb3Moew0KICAgICAgICAgICAgICB1cmw6Ii9yb290IisiL3VzZXIvaWQiLA0KICAgICAgICAgICAgICBtZXRob2Q6J3Bvc3QnLA0KICAgICAgICAgICAgICBkYXRhOmZpbGVMaXN0DQogICAgICAgICAgICB9KS50aGVuKHJlcyA9PiAodGhpcy5jaGF0SW5mbyA9IHJlcy5kYXRhKSkNCiAgICAgICAgICB9LA0KICAgICAgICB9LA0KICAgICAgICBjb21wdXRlZDogew0KICAgICAgICAgIC4uLm1hcFN0YXRlKFsndXNlciddKQ0KICAgICAgICB9LA0KICAgICAgICBhc3luYyBjcmVhdGVkKCkgew0KICAgICAgICAgIGF3YWl0IHRoaXMuZ2V0Q2hhdFJlYWQoKQ0KICAgICAgICAgIGNvbnN0IHRoYXQgPSB0aGlzDQogICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGF0LnJlYWREYXRhLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhpKQ0KICAgICAgICAgICAgbGV0IGltZ05hbWUgPSB0aGF0LnJlYWREYXRhW2ldLmF2YXRhcg0KICAgICAgICAgICAgaWYgKGltZ05hbWUubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhpbWdOYW1lKQ0KICAgICAgICAgICAgICBhd2FpdCB0aGF0LiRheGlvcy5nZXQoJy9yb290JyArICcvaXRlbXMvcGljdHVyZS8nICsgaW1nTmFtZSkudGhlbihmdW5jdGlvbiAocmVzKSB7DQogICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgew0KICAgICAgICAgICAgICAgICAgdGhhdC5yZWFkRGF0YVtpXS5hdmF0YXIgPSByZXMuZGF0YQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICB0aGF0LnJlYWREYXRhW2ldLmF2YXRhciA9ICcuLi9hc3NldHMvbG9nby5wbmcnDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBtb3VudGVkKCkgew0KICAgICAgICAgIHRoaXMuc2xvZ2FuX2luZGV4ID0gdGhpcy4kc3RvcmUuc3RhdGUuU2VhcmNoSW5mby5zbG9nYW5faW5kZXgNCiAgICAgICAgICB0aGlzLnNsb2dhbiA9IHRoaXMuc2xvZ2FuTGlzdFt0aGlzLnNsb2dhbl9pbmRleF0NCiAgICAgICAgICBpZih0aGlzLnVzZXIudXNlciA9PSBudWxsKXsNCiAgICAgICAgICAgIHRoaXMuYnRuX3RleHQgPSAn6K+355m75b2VJw0KICAgICAgICAgICAgdGhpcy5sb2dnaW4gPSBmYWxzZQ0KICAgICAgICAgIH0NCiAgICAgICAgICBlbHNlew0KICAgICAgICAgICAgdGhpcy5idG5fdGV4dCA9IEpTT04ucGFyc2UodGhpcy51c2VyLnVzZXIpLm5pY2tfbmFtZQ0KICAgICAgICAgICAgdGhpcy5sb2dnaW4gPSB0cnVlDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0K"},{"version":3,"sources":["HeaderBar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HeaderBar.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <el-row  class=\"row-header\" type=\"flex\" justify=\"center\" >\r\n      <el-col :span=\"3\" :offset=\"1\">\r\n        <el-button type=\"primary\" icon=\"el-icon-s-home\" class=\"header-button\" id=\"header-button-1\" @click=\"backHome\"></el-button>\r\n      </el-col>\r\n      <el-col :span=\"10\">\r\n        <h2 class='header-h2'>{{ slogan }}</h2>\r\n      </el-col>\r\n      <el-col :span=\"3\" :offset=\"1\">\r\n        <el-popover\r\n          placement=\"bottom\"\r\n          width=\"250\"\r\n          trigger=\"click\"\r\n          >\r\n          <el-table :data=\"readData\">\r\n            <el-table-column width=\"100\" property=\"avatar\" label=\"头像\" >\r\n                <template   slot-scope=\"scope\">            \r\n                    <img :src=\"scope.row.avatar\"  min-width=\"100\" height=\"100\"/>\r\n                </template>         \r\n            </el-table-column>\r\n            <el-table-column width=\"50\" property=\"id\" label=\"昵称\" >\r\n            </el-table-column>\r\n            <el-table-column width=\"100\" property=\"id\" label=\"与他联系\" >\r\n                <template   slot-scope=\"scope\">            \r\n                  <el-button type=\"text\" size=\"small\" @click=\"goChattingResponse(scope.row.id)\">回复</el-button>\r\n                </template>  \r\n            </el-table-column>\r\n          </el-table>\r\n          <el-button slot=\"reference\" type=\"primary\" class=\"header-button\" id=\"header-button-3\" icon=\"el-icon-message\"></el-button>\r\n        </el-popover>\r\n      </el-col>\r\n      <el-col :span=\"4\">\r\n        <el-button type=\"primary\" class=\"header-button\" id=\"header-button-2\" @click=\"goLog\">{{btn_text}}</el-button>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex';\r\nimport axios from 'axios';\r\n    export default {\r\n        data() \r\n        {\r\n            return {\r\n              sloganList: ['Welcome to Sustech Store!',\r\n                        'Did You Find What You Want?',\r\n                        'Sell Your Own Merchandise!',\r\n                        'Want to Buy Them? Do It Now!',\r\n                        'That Looks Good, Right?',\r\n                        'Are you satisfied with them?'],\r\n              slogan_index: 0,\r\n              slogan: 'Welcome to Sustech Store!',\r\n              btn_text: '请登录',\r\n              loggin: false,\r\n              pop_text:'消息',\r\n              mineId:'',\r\n              readData: [],\r\n              inf: [],\r\n              chatInfo:[],\r\n              id:'',\r\n              mineToken:null\r\n            };\r\n        },\r\n        methods: {\r\n          backHome(){\r\n            this.$router.push('/')\r\n            this.$store.commit('SET_SLO_IND', 0)\r\n          },\r\n          goLog(){\r\n            if(!this.loggin){\r\n              this.$router.push('/login')\r\n            }\r\n            else{\r\n              this.$router.push('/center')\r\n            }\r\n          },\r\n          goChattingResponse(id) {\r\n            // console.log('id'+id)\r\n            const that=this;\r\n            this.getChatInfo(id)\r\n            that.$store.commit('SET_CHAT_INFO', JSON.stringify(this.chatinfo))\r\n            // console.log(this.chatInfo)\r\n            // console.log(that.$store.state.chat.chatter_info)\r\n            this.$router.push('/chatresponse')\r\n          },\r\n          async getChatRead() {\r\n            const that=this;\r\n            this.mineToken=that.$store.state.user.token;          \r\n            this.id = JSON.parse(that.$store.state.user.user).id;\r\n            if(this.mineToken !== null){\r\n              // console.log(this.mineToken)\r\n              // console.log(this.id)\r\n              let fileList = new FormData()\r\n              fileList.append('mineId', this.id)\r\n              await axios({\r\n                url:\"/root\"+\"/chatread\",\r\n                method:'post',\r\n                data:fileList\r\n              }).then(res => (this.readData = res.data))\r\n              // console.log(this.readData)\r\n            }\r\n          }, \r\n          async getChatInfo(id) {\r\n            let fileList = new FormData()\r\n            fileList.append('id',id.toString())\r\n            await axios({\r\n              url:\"/root\"+\"/user/id\",\r\n              method:'post',\r\n              data:fileList\r\n            }).then(res => (this.chatInfo = res.data,\r\n            console.log('res'+this.chatInfo))\r\n            )   \r\n            console.log('getChatInfoqq'+this.chatInfo.qq)\r\n          }, \r\n          async getChatNew(id) {\r\n            let fileList = new FormData()\r\n            fileList.append('id',id)\r\n            await axios({\r\n              url:\"/root\"+\"/user/id\",\r\n              method:'post',\r\n              data:fileList\r\n            }).then(res => (this.chatInfo = res.data))\r\n          },\r\n        },\r\n        computed: {\r\n          ...mapState(['user'])\r\n        },\r\n        async created() {\r\n          await this.getChatRead()\r\n          const that = this\r\n          for (let i = 0; i < that.readData.length; i++) {\r\n            console.log(i)\r\n            let imgName = that.readData[i].avatar\r\n            if (imgName.length > 0) {\r\n              // console.log(imgName)\r\n              await that.$axios.get('/root' + '/items/picture/' + imgName).then(function (res) {\r\n                if (res.status === 200) {\r\n                  that.readData[i].avatar = res.data\r\n                }\r\n              })\r\n            } else {\r\n                  that.readData[i].avatar = '../assets/logo.png'\r\n            }\r\n          }\r\n        },\r\n        mounted() {\r\n          this.slogan_index = this.$store.state.SearchInfo.slogan_index\r\n          this.slogan = this.sloganList[this.slogan_index]\r\n          if(this.user.user == null){\r\n            this.btn_text = '请登录'\r\n            this.loggin = false\r\n          }\r\n          else{\r\n            this.btn_text = JSON.parse(this.user.user).nick_name\r\n            this.loggin = true\r\n          }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n  .row-header {\r\n    background:#FF5809;\r\n    height: 65px;\r\n  }\r\n  .header-h2 {\r\n    color:white ;\r\n  }\r\n  .header-h2:hover {\r\n    color:#fff ;\r\n  }\r\n  .header-button {\r\n    font-weight: bold;\r\n    height: 65px;\r\n  }\r\n  #header-button-1 {\r\n    font-size: 30px;\r\n  }\r\n  #header-button-2 {\r\n    font-size: 20px;\r\n  }\r\n  #header-button-3 {\r\n    font-size: 30px;\r\n    background:#FF5809;\r\n    border:#FF5809;\r\n  }\r\n\r\n</style>"]}]}