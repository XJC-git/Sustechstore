{"remainingRequest":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\src\\views\\Overview.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\src\\views\\Overview.vue","mtime":1640614577653},{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636798923061},{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\babel-loader\\lib\\index.js","mtime":1636798923794},{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636798923061},{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\vue-loader\\lib\\index.js","mtime":1636798923951}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgU2VhcmNoQm94ICBmcm9tICcuLi9jb21wb25lbnRzL1NlYXJjaEJveC52dWUnDQppbXBvcnQgSGVhZGVyQmFyIGZyb20gJy4uL2NvbXBvbmVudHMvSGVhZGVyQmFyLnZ1ZScNCmltcG9ydCBGb290QmFyIGZyb20gJy4uL2NvbXBvbmVudHMvRm9vdEJhci52dWUnDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnDQoNCiAgICBleHBvcnQgZGVmYXVsdCB7DQogICAgICAgIGRhdGEoKSANCiAgICAgICAgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICBzZWFyY2hfbmFtZTogIiIsDQogICAgICAgICAgICAgICAgcHJpY2VfcmFkaW86ICcnLA0KICAgICAgICAgICAgICAgIHNpemVfcmFkaW86ICcnLA0KICAgICAgICAgICAgICAgIHF1YWlsaXR5X3JhZGlvOiAnJywNCiAgICAgICAgICAgICAgICBpdGVtczogbnVsbCwNCiAgICAgICAgICAgICAgICBkaWN0aW9uYXJ5OiB7fSwNCiAgICAgICAgICAgICAgICBmaXJzdDogZmFsc2UsDQogICAgICAgICAgICAgICAgbW9uZXk6bnVsbCwNCiAgICAgICAgICAgICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwNCiAgICAgICAgICAgICAgICBpbm5lclZpc2libGU6IGZhbHNlLA0KICAgICAgICAgICAgICAgIGxvY2F0aW9uOicnLA0KICAgICAgICAgICAgICAgIGFuc3dlcjogbnVsbCwNCiAgICAgICAgICAgICAgICByZXN1bHRfdHh0OiAnJywNCiAgICAgICAgICAgICAgICBidXR0b25fdGV4dDogJycsDQogICAgICAgICAgICAgICAgaWQ6ICcwJywNCiAgICAgICAgICAgICAgICBpdGVtX2J1eTogeyduYW1lJzonJywncHJpY2UnOicnLCdpZCc6Jyd9LA0KICAgICAgICAgICAgfTsNCiAgICAgICAgfSwNCiAgICAgICAgbWV0aG9kczogew0KICAgICAgICAgIGdvR29vZHMoaWQpIHsNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnU0VUX1JFTE9BRCcsIHRydWUpDQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ1NFVF9TTE9fSU5EJywgNCkNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnU0VUX0lURU1fSUQnLCBpZCkNCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvZ29vZHMnKQ0KICAgICAgICAgIH0sDQogICAgICAgICAgYXN5bmMgYWRkVHJvbGxleShpZCkgew0KICAgICAgICAgICAgaWYodGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VyID09IG51bGwpIHsNCiAgICAgICAgICAgICAgdGhpcy4kY29uZmlybSgi5oKo6L+Y5pyq55m75b2V77yM6K+35YWI55m75b2V5YaN5bCG5ZWG5ZOB5Yqg5YWl6LSt54mp6L2mIiwgJ+itpuWRiicsIHsNCiAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLA0KICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZyd9KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgIGxldCBmaWxlTGlzdCA9IG5ldyBGb3JtRGF0YSgpDQogICAgICAgICAgICAgIGZpbGVMaXN0LmFwcGVuZCgnaXRlbUlkJywgaWQpDQogICAgICAgICAgICAgIGF3YWl0IGF4aW9zKHsNCiAgICAgICAgICAgICAgICB1cmw6Ii9yb290IisnL3Ryb2xsZXkvYWRkJywNCiAgICAgICAgICAgICAgICBtZXRob2Q6ICdwb3N0JywNCiAgICAgICAgICAgICAgICBkYXRhOiBmaWxlTGlzdA0KICAgICAgICAgICAgICB9KS50aGVuKHJlcyA9PiAoY29uc29sZS5sb2cocmVzKSkpDQogICAgICAgICAgICAgIHRoaXMuJGNvbmZpcm0oJ+WKoOWFpei0reeJqei9puaIkOWKnyEg5piv5ZCm5YmN5b6A6LSt54mp6L2m5p+l55yL77yfJywgJ+aPkOekuicsIHsNCiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsDQogICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsDQogICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnDQogICAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnU0VUX1NMT19JTkQnLCAzKQ0KICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnU0VUX1JFTE9BRCcsIHRydWUpDQogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy90cm9sbGV5JykNCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9LA0KICAgICAgICAgIGFzeW5jIGJ1eUl0ZW0oaWQpIHsNCiAgICAgICAgICAgIHRoaXMuaWQgPSBpZA0KICAgICAgICAgICAgaWYodGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VyID09IG51bGwpIHsNCiAgICAgICAgICAgICAgdGhpcy4kY29uZmlybSgi5oKo6L+Y5pyq55m75b2V77yM6K+35YWI55m75b2V5YaN6LSt5Lmw5ZWG5ZOBIiwgJ+itpuWRiicsIHsNCiAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLA0KICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZyd9KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgIGF3YWl0IGF4aW9zKHsNCiAgICAgICAgICAgICAgICB1cmw6Ii9yb290IisnL2dldG1vbmV5JywNCiAgICAgICAgICAgICAgICBtZXRob2Q6ICdnZXQnDQogICAgICAgICAgICAgIH0pLnRoZW4ocmVzID0+ICgNCiAgICAgICAgICAgICAgICB0aGlzLm1vbmV5ID0gcGFyc2VGbG9hdChyZXMuZGF0YSkgDQogICAgICAgICAgICAgICkpDQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMubW9uZXkpDQogICAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8dGhpcy5pdGVtcy5sZW5ndGg7aSsrKSB7DQogICAgICAgICAgICAgICAgaWYodGhpcy5pdGVtc1tpXS5pZCA9PSBpZCkgew0KICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtX2J1eSA9IHRoaXMuaXRlbXNbaV0NCiAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIGlmKHRoaXMubW9uZXkgPCBwYXJzZUZsb2F0KHRoaXMuaXRlbV9idXkucHJpY2UpKSB7DQogICAgICAgICAgICAgICAgdGhpcy4kY29uZmlybSgi5oKo55qE6LSm5oi35L2Z6aKd5LiN6Laz77yM6K+35YWF5YC85ZCO5YaN6L+b6KGM6LSt5LmwISAiLCAn6K2m5ZGKJywgew0KICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLA0KICAgICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnfSkNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9LA0KICAgICAgICAgIGFzeW5jIHNlbmRCdXlJbmZvKCkgew0KICAgICAgICAgICAgbGV0IGZpbGVMaXN0ID0gIG5ldyBGb3JtRGF0YSgpDQogICAgICAgICAgICBmaWxlTGlzdC5hcHBlbmQoJ2l0ZW1JRCcsIHRoaXMuaWQpDQogICAgICAgICAgICBmaWxlTGlzdC5hcHBlbmQoJ2xvY2F0aW9uJywgdGhpcy5sb2NhdGlvbikNCiAgICAgICAgICAgIGF3YWl0IGF4aW9zKHsNCiAgICAgICAgICAgICAgICB1cmw6Ii9yb290IisnL3Ryb2xsZXkvYnV5JywNCiAgICAgICAgICAgICAgICBtZXRob2Q6ICdwb3N0JywNCiAgICAgICAgICAgICAgICBkYXRhOiBmaWxlTGlzdA0KICAgICAgICAgICAgfSkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICB0aGlzLmFuc3dlciA9IHJlcy5kYXRhDQogICAgICAgICAgICAgIHRoaXMuaW5uZXJWaXNpYmxlID0gdHJ1ZQ0KICAgICAgICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIGlmICh0aGlzLmFuc3dlciA9PSAiMSIpew0KICAgICAgICAgICAgICB0aGlzLnJlc3VsdF90eHQgPSAi6LSt5Lmw5oiQ5YqfIeS4gOWwgeehruiupOmCruS7tuW3sue7j+WPkeiHs+aCqOeahOmCrueusSEiDQogICAgICAgICAgICAgIHRoaXMuYnV0dG9uX3RleHQgPSAi5aSq5qOS5LqGISINCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICB0aGlzLnJlc3VsdF90eHQgPSAi6LSt5Lmw5aSx6LSl77yM5aW95YOP5Ye65LqG54K55bCP6Zeu6aKYLi4uIg0KICAgICAgICAgICAgICB0aGlzLmJ1dHRvbl90ZXh0ID0gIuWViui/mS4uLiINCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGNvbXBvbmVudHM6IHsNCiAgICAgICAgICBTZWFyY2hCb3gsDQogICAgICAgICAgSGVhZGVyQmFyLA0KICAgICAgICAgIEZvb3RCYXINCiAgICAgICAgfSwNCiAgICAgICAgYXN5bmMgbW91bnRlZCgpIHsNCiAgICAgICAgICB0aGlzLnNlYXJjaF9uYW1lID0gdGhpcy4kc3RvcmUuc3RhdGUuU2VhcmNoSW5mby5LZXl3b3JkDQogICAgICAgICAgdGhpcy5maXJzdCA9IHRoaXMuJHN0b3JlLnN0YXRlLmltYWdlX3N0b3JlLnJlbG9hZA0KICAgICAgICAgIGxldCBmb3JtZGF0YSA9IG5ldyBGb3JtRGF0YSgpDQogICAgICAgICAgZm9ybWRhdGEuYXBwZW5kKCJzZWFyY2hUZXh0IiwgdGhpcy5zZWFyY2hfbmFtZSkNCiAgICAgICAgICBhd2FpdCBheGlvcyh7DQogICAgICAgICAgICB1cmw6Ii9yb290IisiL3NlYXJjaCIsDQogICAgICAgICAgICBtZXRob2Q6J3Bvc3QnLA0KICAgICAgICAgICAgZGF0YTpmb3JtZGF0YSwNCiAgICAgICAgICB9KS50aGVuKHJlcyA9PiAodGhpcy5pdGVtcyA9IHJlcy5kYXRhKSkNCiAgICAgICAgICBsZXQgaSA9IDANCiAgICAgICAgICBmb3IoaTtpPHRoaXMuaXRlbXMubGVuZ3RoO2krKyl7DQogICAgICAgICAgICBpZih0aGlzLml0ZW1zW2ldLmZpbGVMaXN0Lmxlbmd0aCA+IDApew0KICAgICAgICAgICAgICBsZXQgcGljX25hbWUgPSB0aGlzLml0ZW1zW2ldLmZpbGVMaXN0WzBdDQogICAgICAgICAgICAgIGxldCBpdGVtX2lkID0gdGhpcy5pdGVtc1tpXS5pZA0KICAgICAgICAgICAgICBhd2FpdCB0aGlzLiRheGlvcy5nZXQoIi9yb290IisiL2l0ZW1zL3BpY3R1cmUvIitwaWNfbmFtZSkNCiAgICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuZGljdGlvbmFyeVtpdGVtX2lkXSA9IHJlc3VsdC5kYXRhDQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmNvbW1pdCgnU0VUX0lNRycsIHRoaXMuZGljdGlvbmFyeSkNCiAgICAgICAgICBpZih0aGlzLmZpcnN0KXsNCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvYmxhbmsnKQ0KICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdTRVRfUkVMT0FEJywgZmFsc2UpDQogICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICB1cGRhdGVkKCkgew0KICAgICAgICAgIHRoaXMuZGljdGlvbmFyeSA9IHRoaXMuJHN0b3JlLnN0YXRlLmltYWdlX3N0b3JlLmltYWdlcw0KICAgICAgICB9DQogICAgfQ0K"},{"version":3,"sources":["Overview.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Overview.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"overview-main\">\r\n\r\n    <el-backtop></el-backtop>\r\n\r\n    <HeaderBar></HeaderBar>\r\n\r\n    <SearchBox style=\"z-index:20;position:absolute;width:100%\"></SearchBox> \r\n\r\n    <el-card id=\"overview-card\">\r\n      <el-row type=\"flex\" justify=\"center\">\r\n        <el-col>\r\n          <h3 id=\"overview-title\">以下为商品: “{{search_name}}”搜索结果:</h3>\r\n        </el-col>\r\n      </el-row>\r\n      \r\n      <el-row type=\"flex\" justify=\"center\">\r\n        <el-col>\r\n          <el-card shadow=\"never\" class=\"item-card\" v-for=\"item in items\" :key=item.id>\r\n            <el-row type=\"flex\" justify=\"center\" style=\"margin-top:20px\">\r\n\r\n              <el-col :span=\"6\">\r\n                <img :src=\"dictionary[item.id]\" class=\"merchandise-img\" @click=\"goGoods\"> \r\n              </el-col>\r\n\r\n              <el-col :span=\"18\">\r\n                <el-row type=\"flex\" justify=\"center\">\r\n                  <el-col>\r\n                    <h3 class=\"merchandise-name\" @click=\"goGoods(item.id)\">{{item.name}}</h3> \r\n                  </el-col>\r\n                </el-row>\r\n\r\n                <el-row>\r\n                  <el-col>\r\n                    <h3 class=\"merchandise-name\">卖家: {{item.publisher}}</h3>\r\n                  </el-col>\r\n                </el-row>\r\n\r\n                <p class=\"merchandise-text\">商品简介: {{item.description}}</p>\r\n\r\n                <el-row type=\"flex\" justify=\"center\" style=\"height:40px\" align=\"middle\">\r\n                  <el-col :span=\"16\">\r\n                    <h3 class=\"merchandise-price\">￥{{item.price}}</h3> \r\n                  </el-col>\r\n                  <el-col :span=\"4\">\r\n                    <el-button style=\"height:100%\" plain @click=\"addTrolley(item.id)\">加入购物车</el-button>\r\n                  </el-col>\r\n                  <el-col :span=\"4\">\r\n                    <el-button style=\"height:100%\" @click=\"buyItem(item.id)\">立即购买</el-button>\r\n                  </el-col>\r\n                </el-row>\r\n                 \r\n              </el-col>\r\n\r\n            </el-row>\r\n          </el-card>\r\n        </el-col>\r\n      </el-row>\r\n    </el-card>\r\n\r\n    <el-dialog title=\"购买商品\" :visible.sync=\"dialogVisible\" width=\"50%\" center>\r\n      <el-row type=\"flex\">您想要购买的商品为: {{item_buy.name}}</el-row>\r\n      <el-row type=\"flex\" style=\"margin-top:20px;\">价格: ￥{{item_buy.price}}</el-row>\r\n      <el-row type=\"flex\" style=\"margin-top:20px;\">交易地点(请先和卖家商量好哦!):</el-row>\r\n      <el-input maxlength=\"150\" type=\"textarea\" autosize :rows=\"2\" placeholder=\"请输入地点\" v-model=\"location\"></el-input>\r\n      <el-dialog width=\"30%\" title=\"购买结果\" :visible.sync=\"innerVisible\" append-to-body>\r\n        <el-row type=\"flex\">{{result_txt}}</el-row>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button type=\"primary\" @click=\"innerVisible = false\">{{button_text}}</el-button>\r\n        </span>\r\n      </el-dialog>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogVisible = false\">取消购买</el-button>\r\n        <el-button type=\"primary\" @click=\"sendBuyInfo\">确定购买</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <FootBar></FootBar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SearchBox  from '../components/SearchBox.vue'\r\nimport HeaderBar from '../components/HeaderBar.vue'\r\nimport FootBar from '../components/FootBar.vue'\r\nimport axios from 'axios'\r\n\r\n    export default {\r\n        data() \r\n        {\r\n            return {\r\n                search_name: \"\",\r\n                price_radio: '',\r\n                size_radio: '',\r\n                quaility_radio: '',\r\n                items: null,\r\n                dictionary: {},\r\n                first: false,\r\n                money:null,\r\n                dialogVisible: false,\r\n                innerVisible: false,\r\n                location:'',\r\n                answer: null,\r\n                result_txt: '',\r\n                button_text: '',\r\n                id: '0',\r\n                item_buy: {'name':'','price':'','id':''},\r\n            };\r\n        },\r\n        methods: {\r\n          goGoods(id) {\r\n            this.$store.commit('SET_RELOAD', true)\r\n            this.$store.commit('SET_SLO_IND', 4)\r\n            this.$store.commit('SET_ITEM_ID', id)\r\n            this.$router.push('/goods')\r\n          },\r\n          async addTrolley(id) {\r\n            if(this.$store.state.user.user == null) {\r\n              this.$confirm(\"您还未登录，请先登录再将商品加入购物车\", '警告', {\r\n              confirmButtonText: '确定',\r\n              type: 'warning'})\r\n            }\r\n            else {\r\n              let fileList = new FormData()\r\n              fileList.append('itemId', id)\r\n              await axios({\r\n                url:\"/root\"+'/trolley/add',\r\n                method: 'post',\r\n                data: fileList\r\n              }).then(res => (console.log(res)))\r\n              this.$confirm('加入购物车成功! 是否前往购物车查看？', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'success'\r\n              }).then(() => {\r\n                this.$store.commit('SET_SLO_IND', 3)\r\n                this.$store.commit('SET_RELOAD', true)\r\n                this.$router.push('/trolley')\r\n              })\r\n            }\r\n          },\r\n          async buyItem(id) {\r\n            this.id = id\r\n            if(this.$store.state.user.user == null) {\r\n              this.$confirm(\"您还未登录，请先登录再购买商品\", '警告', {\r\n              confirmButtonText: '确定',\r\n              type: 'warning'})\r\n            }\r\n            else {\r\n              await axios({\r\n                url:\"/root\"+'/getmoney',\r\n                method: 'get'\r\n              }).then(res => (\r\n                this.money = parseFloat(res.data) \r\n              ))\r\n              console.log(this.money)\r\n              for(let i=0;i<this.items.length;i++) {\r\n                if(this.items[i].id == id) {\r\n                  this.item_buy = this.items[i]\r\n                  break\r\n                }\r\n              }\r\n              if(this.money < parseFloat(this.item_buy.price)) {\r\n                this.$confirm(\"您的账户余额不足，请充值后再进行购买! \", '警告', {\r\n                  confirmButtonText: '确定',\r\n                  type: 'warning'})\r\n              }\r\n              else {\r\n                this.dialogVisible = true\r\n              }\r\n            }\r\n          },\r\n          async sendBuyInfo() {\r\n            let fileList =  new FormData()\r\n            fileList.append('itemID', this.id)\r\n            fileList.append('location', this.location)\r\n            await axios({\r\n                url:\"/root\"+'/trolley/buy',\r\n                method: 'post',\r\n                data: fileList\r\n            }).then(res => {\r\n              this.answer = res.data\r\n              this.innerVisible = true\r\n              this.dialogVisible = false\r\n            })\r\n            if (this.answer == \"1\"){\r\n              this.result_txt = \"购买成功!一封确认邮件已经发至您的邮箱!\"\r\n              this.button_text = \"太棒了!\"\r\n            }\r\n            else {\r\n              this.result_txt = \"购买失败，好像出了点小问题...\"\r\n              this.button_text = \"啊这...\"\r\n            }\r\n          }\r\n        },\r\n        components: {\r\n          SearchBox,\r\n          HeaderBar,\r\n          FootBar\r\n        },\r\n        async mounted() {\r\n          this.search_name = this.$store.state.SearchInfo.Keyword\r\n          this.first = this.$store.state.image_store.reload\r\n          let formdata = new FormData()\r\n          formdata.append(\"searchText\", this.search_name)\r\n          await axios({\r\n            url:\"/root\"+\"/search\",\r\n            method:'post',\r\n            data:formdata,\r\n          }).then(res => (this.items = res.data))\r\n          let i = 0\r\n          for(i;i<this.items.length;i++){\r\n            if(this.items[i].fileList.length > 0){\r\n              let pic_name = this.items[i].fileList[0]\r\n              let item_id = this.items[i].id\r\n              await this.$axios.get(\"/root\"+\"/items/picture/\"+pic_name)\r\n              .then((result) => {\r\n                this.dictionary[item_id] = result.data\r\n              })\r\n            }\r\n          }\r\n          await this.$store.commit('SET_IMG', this.dictionary)\r\n          if(this.first){\r\n            this.$router.push('/blank')\r\n            this.$store.commit('SET_RELOAD', false)\r\n          }\r\n        },\r\n        updated() {\r\n          this.dictionary = this.$store.state.image_store.images\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n  #overview-card {\r\n    width: 75%;\r\n    border-radius: 15px;\r\n    margin: auto;\r\n    position: absolute;\r\n    left: 12.5%;\r\n    margin-top: 80px;\r\n    z-index: 5;\r\n  }\r\n  #overview-title {\r\n    text-align: left;\r\n    margin-left: 40px;\r\n  }\r\n  #select-card {\r\n    border-color: darkgray;\r\n    margin-bottom:20px;\r\n    border-radius: 0px;\r\n  }\r\n  .el-card__body {\r\n    padding-top: 0px;\r\n    padding-bottom: 10px;\r\n  }\r\n  .select-line {\r\n    margin-bottom:10px;\r\n    margin-top:10px;\r\n    text-align:left;\r\n  }\r\n  .item-card{\r\n    background:#fbfbfb;\r\n    width: 100%;\r\n    display: inline-block;\r\n    margin: 0.3em;\r\n    border-radius:20px;\r\n  }\r\n  .merchandise-text{\r\n    text-align: left;\r\n    color: darkgrey;\r\n    margin-top: 0px;\r\n    height:60px\r\n  }\r\n  .el-divider {\r\n    margin-top: 10px;\r\n    margin-bottom: 10px;\r\n  }\r\n  .merchandise-img {\r\n    cursor: pointer;\r\n  }\r\n  .merchandise-name{\r\n    font-size:20px;\r\n    text-align:left;\r\n    font-weight:bold;\r\n    margin-top:0px;\r\n    margin-bottom: 10px;\r\n    cursor: pointer;\r\n  }\r\n  .merchandise-price{\r\n    text-align:left;\r\n    color:#FF5809;\r\n    margin-top:20px;\r\n    margin-bottom:20px;\r\n    font-weight: bold;\r\n    font-size: 24px;\r\n    cursor: pointer;\r\n  }\r\n</style>"]}]}