{"remainingRequest":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\src\\views\\Trolley.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\src\\views\\Trolley.vue","mtime":1639231583367},{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\css-loader\\dist\\cjs.js","mtime":1636798923408},{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1636798924294},{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\postcss-loader\\src\\index.js","mtime":1636798923792},{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636798923061},{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\vue-loader\\lib\\index.js","mtime":1636798923951}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiN0cm9sbGV5LWNhcmQgewogIHdpZHRoOiA3NSU7CiAgYm9yZGVyLXJhZGl1czogMTVweDsKICBtYXJnaW46IGF1dG87CiAgbWFyZ2luLXRvcDogMjBweDsKfQojdHJvbGxleS10aXRsZSB7CiAgdGV4dC1hbGlnbjogbGVmdDsKICBtYXJnaW4tbGVmdDogNDBweDsKfQouZWwtY2FyZF9fYm9keSB7CiAgcGFkZGluZy10b3A6IDEwcHg7CiAgcGFkZGluZy1ib3R0b206IDEwcHg7Cn0KLml0ZW0tY2FyZCB7CiAgYmFja2dyb3VuZDojZmJmYmZiOwogIHdpZHRoOiAxMDAlOwogIG1hcmdpbjogMC4zZW07CiAgYm9yZGVyLXJhZGl1czoyMHB4OwogIAp9Ci50cm9sbGV5LWltZyB7CiAgaGVpZ2h0OiAxMDBweDsKICB3aWR0aDogMTAwcHg7Cn0KLmNvdW50LWJhciB7CiAgYmFja2dyb3VuZDpsaWdodGdyYXk7CiAgcG9zaXRpb246Zml4ZWQ7IAogIGJvdHRvbTowOwogIHdpZHRoOiA3NSU7CiAgei1pbmRleDogMTAwOwogIGhlaWdodDogNTBweDsKfQouY291bnQtYnV0dG9uIHsKICBoZWlnaHQ6IDUwcHg7CiAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRncmF5OwogIGJvcmRlcjogbGlnaHRncmF5OwogIGZvbnQ6IGJvbGQ7Cn0KCg=="},{"version":3,"sources":["Trolley.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Trolley.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"trolley-main\"  style=\"position:absolute;z-index:1;width:100%\">\r\n\r\n    <el-backtop></el-backtop>\r\n\r\n    <HeaderBar></HeaderBar>\r\n\r\n    <el-card id=\"trolley-card\">\r\n      <el-row type=\"flex\" justify=\"center\">\r\n        <h2 id=\"trolley-title\">购物车</h2>\r\n      </el-row>\r\n\r\n      <el-row type=\"flex\" justify=\"center\" align=\"middle\">\r\n        <el-col :span=\"1\" :offset=\"1\">\r\n          <el-checkbox label=\"全选\" v-model=\"all_selected\" @change=\"check_select\"></el-checkbox>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <h3>商品信息</h3>\r\n        </el-col>\r\n        <el-col :span=\"4\">\r\n          <h3>价格</h3>\r\n        </el-col>\r\n        <el-col :span=\"4\">\r\n          <h3>卖家</h3>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <h3>操作</h3>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-divider></el-divider>\r\n      \r\n      <el-row type=\"flex\" justify=\"center\">\r\n        <el-col>\r\n          <el-card shadow=\"never\" class=\"item-card\" v-for=\"item in items\" :key=item.id>\r\n            <el-row type=\"flex\" justify=\"center\" align=\"middle\"> \r\n              <el-col :span=\"1\">\r\n                <el-checkbox v-model=\"selected[item.id]\" class=\"select_button\" @change=\"count_sum\"></el-checkbox>  \r\n              </el-col>\r\n\r\n              <el-col :span=\"4\">\r\n                <img :src=\"item.idImg\" class=\"trolley-img\"> \r\n              </el-col>\r\n\r\n              <el-col :span=\"4\">\r\n                <p style=\"text-align:left;\">{{item.name}}</p>\r\n              </el-col>\r\n\r\n              <el-col :span=\"4\">\r\n                <p>{{item.idSeller}}</p>\r\n              </el-col>\r\n\r\n              <el-col :span=\"4\">\r\n                <h3>￥{{item.price}}</h3>\r\n              </el-col>\r\n\r\n              <el-col :span=\"7\">\r\n                <el-row style=\"margin-bottom:10px\">\r\n                  <el-button>查看详情</el-button>  \r\n                </el-row>\r\n                <el-row>\r\n                  <el-button @click=\"single_delete(item.id)\">删除商品</el-button>\r\n                </el-row>\r\n              </el-col>\r\n            </el-row>\r\n          </el-card>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-pagination layout=\"prev, pager, next\" :total=\"500\"></el-pagination>\r\n    </el-card>\r\n\r\n    <FootBar></FootBar>\r\n    <el-row type=\"flex\" justify=\"left\">\r\n      <el-col :span=\"18\" :offset=\"3\">\r\n        <el-row  class=\"count-bar\" type=\"flex\" justify=\"center\" align=\"middle\">\r\n          <el-col :span=\"2\" :offset=\"0.5\">\r\n            <el-checkbox label=\"全选\" v-model=\"all_selected\" @change=\"check_select\"></el-checkbox>\r\n          </el-col>\r\n          <el-col :span=\"2\">\r\n            <el-button class=\"count-button\" @click=\"multiple_delete\">删除商品</el-button>\r\n          </el-col>\r\n          <el-col :span=\"4\" :offset=\"8\">\r\n            <h4>已选商品{{merchan_count}}件</h4>\r\n          </el-col>\r\n          <el-col :span=\"4\">\r\n            <h4>合计：{{sum}}元</h4>\r\n          </el-col>\r\n          <el-col :span=\"3.5\">\r\n            <el-button class=\"count-button\" style=\"width:100px;background:#FF5809\" type=\"primary\">\r\n              <h3 style=\"color:white;margin-top:0;margin-bottom:0;\">结算</h3>  \r\n            </el-button>\r\n          </el-col>\r\n        </el-row>  \r\n      </el-col>\r\n    </el-row>\r\n\r\n\r\n    \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport HeaderBar from '../components/HeaderBar.vue'\r\nimport FootBar from '../components/FootBar.vue'\r\nimport axios from 'axios'\r\n\r\n    export default {\r\n        data() \r\n        {\r\n            return {\r\n                all_selected: false,\r\n                merchan_count: 0,\r\n                sum: 0,\r\n                selected: [false, false, false, false, false, false],\r\n                items:[\r\n                  {id:0, idName:\"商品1\", idImg:require('../resources/image/merchandise-img/1.jpg'), idPrice: 123, idSeller:'卖家1'},\r\n                  {id:1, idName:\"商品2\", idImg:require('../resources/image/merchandise-img/2.jpg'), idPrice: 123, idSeller:'卖家2'},\r\n                  {id:2, idName:\"商品3\", idImg:require('../resources/image/merchandise-img/3.jpg'), idPrice: 123, idSeller:'卖家3'},\r\n                  {id:3, idName:\"商品4\", idImg:require('../resources/image/merchandise-img/4.jpg'), idPrice: 123, idSeller:'卖家4'},\r\n                  {id:4, idName:\"商品5\", idImg:require('../resources/image/merchandise-img/5.jpg'), idPrice: 123, idSeller:'卖家5'},\r\n                  {id:5, idName:\"商品6\", idImg:require('../resources/image/merchandise-img/6.jpg'), idPrice: 123, idSeller:'卖家6'},\r\n                ],\r\n            };\r\n        },\r\n        components: {\r\n          HeaderBar,\r\n          FootBar\r\n        },\r\n        methods: {\r\n          check_select() {\r\n            let i = 0\r\n            if(this.all_selected){\r\n                for(i = 0; i < this.items.length; i++){\r\n                    this.selected[i] = true\r\n                } \r\n            }\r\n            else{\r\n                for(i = 0; i < this.items.length; i++){\r\n                    this.selected[i] = false\r\n                } \r\n            }\r\n            this.count_sum()\r\n          },\r\n          count_sum() {\r\n            let all = 0\r\n            let count = 0\r\n            let i = 0\r\n            let items = this.items\r\n            let selected = this.selected\r\n            for(i = 0; i < this.items.length; i++){\r\n                if(selected[i]){\r\n                    count++\r\n                    all += items[i].idPrice\r\n                }\r\n            }\r\n            this.merchan_count = count\r\n            this.sum = all\r\n          },\r\n          single_delete(id) {\r\n            let i = 0\r\n            for(i = 0; i < this.items.length; i++){\r\n                if(this.items[i].id == id){\r\n                  let id = this.items[i].id\r\n                  console.log(id)\r\n                  axios({\r\n                    URL: \"/proxy\"+\"trolley/remove\",\r\n                    method: 'post',\r\n                    data: id\r\n                  })\r\n                  this.items.splice(i, 1)\r\n                  this.selected.splice(i, 1)\r\n                }\r\n            }\r\n          },\r\n          multiple_delete() {\r\n            let i = 0\r\n            let list = []\r\n            for(i = 0; i < this.items.length; i++){\r\n                if(this.selected[i]==true){\r\n                  list.push(this.items[i].id)\r\n                  this.items.splice(i, 1)\r\n                  this.selected.splice(i, 1)\r\n                  i--\r\n                }\r\n            }\r\n            axios({\r\n              URL: \"/proxy\"+\"trolley/remove\",\r\n              method: 'post',\r\n              data: list\r\n            })\r\n          }\r\n        },\r\n        async mounted() {\r\n          await this.$axios.get(\"/proxy\"+\"/trolley\")\r\n          .then((result) => {\r\n            this.items = result.data\r\n          })\r\n          console.log(this.items)\r\n          console.log(this.items)\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n  #trolley-card {\r\n    width: 75%;\r\n    border-radius: 15px;\r\n    margin: auto;\r\n    margin-top: 20px;\r\n  }\r\n  #trolley-title {\r\n    text-align: left;\r\n    margin-left: 40px;\r\n  }\r\n  .el-card__body {\r\n    padding-top: 10px;\r\n    padding-bottom: 10px;\r\n  }\r\n  .item-card {\r\n    background:#fbfbfb;\r\n    width: 100%;\r\n    margin: 0.3em;\r\n    border-radius:20px;\r\n    \r\n  }\r\n  .trolley-img {\r\n    height: 100px;\r\n    width: 100px;\r\n  }\r\n  .count-bar {\r\n    background:lightgray;\r\n    position:fixed; \r\n    bottom:0;\r\n    width: 75%;\r\n    z-index: 100;\r\n    height: 50px;\r\n  }\r\n  .count-button {\r\n    height: 50px;\r\n    background-color: lightgray;\r\n    border: lightgray;\r\n    font: bold;\r\n  }\r\n  \r\n</style>"]}]}