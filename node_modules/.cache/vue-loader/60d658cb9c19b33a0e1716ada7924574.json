{"remainingRequest":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\src\\components\\ChatList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\src\\components\\ChatList.vue","mtime":1639576068424},{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636798923061},{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\babel-loader\\lib\\index.js","mtime":1636798923794},{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636798923061},{"path":"D:\\学习历史资料\\大三上学期\\面向对象\\Project\\sustech-store\\node_modules\\vue-loader\\lib\\index.js","mtime":1636798923951}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB1dGlsIGZyb20gJy4uL3V0aWxzL3V0aWwuanMnCmltcG9ydCB7IFRvYXN0IH0gZnJvbSAnbWludC11aSc7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnY2hhdGxpc3QnLAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICB3ZWJzb2NrOiBudWxsLAogICAgICAgICAgICBzaG93U2VsQm94OiAwLCAvLyAw6ZqQ6JePIDHmmL7npLrooajmg4UgMuaYvuekuuWFtuS7lgogICAgICAgICAgICBzZWxGYWNlOiAn6KGo5oOFJywKICAgICAgICAgICAgc2VsT3RoZXI6ICflhbbku5blip/og70nLAogICAgICAgICAgICBjb250ZW50OicnLAogICAgICAgICAgICB0b3BTdGF0dXM6ICcnLAogICAgICAgICAgICAvL+iBiuWkqeiusOW9lQogICAgICAgICAgICByZWNvcmRzOiBbewogICAgICAgICAgICAgICAgaW5kZXg6IDEsCiAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgdGltZTogdXRpbC5mb3JtYXREYXRlLmZvcm1hdChuZXcgRGF0ZSgpLCd5eXl5LU1NLWRkIGhoOm1tOnNzJyksCiAgICAgICAgICAgICAgICBuYW1lOiAn55Sw6I2r54aZJywKICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICfkvaDlpb3vvIzmiJHmmK/nlLDojavnhpknCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIGluZGV4OiAyLAogICAgICAgICAgICAgICAgdHlwZTogMiwKICAgICAgICAgICAgICAgIHRpbWU6IHV0aWwuZm9ybWF0RGF0ZS5mb3JtYXQobmV3IERhdGUoKSwneXl5eS1NTS1kZCBoaDptbTpzcycpLAogICAgICAgICAgICAgICAgbmFtZTogJ+adjuaAgOatpicsCiAgICAgICAgICAgICAgICBjb250ZW50OiAn5L2g5aW977yM5oiR5piv5p2O5oCA5q2mJwogICAgICAgICAgICB9XSwKICAgICAgICAgICAgLy8g6KGo5oOFCiAgICAgICAgICAgIEVYUFM6IFsKICAgICAgICAgICAgICAgIHsgZmlsZTogJzEwMC5naWYnLCBjb2RlOiAnLzo6KScsIHRpdGxlOiAn5b6u56yRJyxyZWc6L1wvOjpcKS9nIH0sCiAgICAgICAgICAgICAgICB7IGZpbGU6ICcxMDEuZ2lmJywgY29kZTogJy86On4nLCB0aXRsZTogJ+S8pOW/gycscmVnOi9cLzo6fi9nIH0sCiAgICAgICAgICAgICAgICB7IGZpbGU6ICcxMDIuZ2lmJywgY29kZTogJy86OkInLCB0aXRsZTogJ+e+juWlsycscmVnOi9cLzo6Qi9nIH0sCiAgICAgICAgICAgICAgICB7IGZpbGU6ICcxMDMuZ2lmJywgY29kZTogJy86OnwnLCB0aXRsZTogJ+WPkeWRhicscmVnOi9cLzo6XHwvZyB9LAogICAgICAgICAgICAgICAgeyBmaWxlOiAnMTA0LmdpZicsIGNvZGU6ICcvOjgtKScsIHRpdGxlOiAn5aKo6ZWcJyxyZWc6L1wvOjgtXCkvZyB9LAogICAgICAgICAgICAgICAgeyBmaWxlOiAnMTA1LmdpZicsIGNvZGU6ICcvOjo8JywgdGl0bGU6ICflk60nLHJlZzovXC86OjwvZyB9LAogICAgICAgICAgICAgICAgeyBmaWxlOiAnMTA2LmdpZicsIGNvZGU6ICcvOjokJywgdGl0bGU6ICfnvp4nLHJlZzovXC86OlwkL2cgfSwKICAgICAgICAgICAgICAgIHsgZmlsZTogJzEwNy5naWYnLCBjb2RlOiAnLzo6WCcsIHRpdGxlOiAn5ZORJyxyZWc6L1wvOjpYL2cgfSwKICAgICAgICAgICAgICAgIHsgZmlsZTogJzEwOC5naWYnLCBjb2RlOiAnLzo6WicsIHRpdGxlOiAn552hJyxyZWc6L1wvOjpaL2cgfSwKICAgICAgICAgICAgICAgIHsgZmlsZTogJzEwOS5naWYnLCBjb2RlOiAnLzo6XCcoJywgdGl0bGU6ICflk60nLHJlZzovXC86OidcKC9nIH0sCiAgICAgICAgICAgICAgICB7IGZpbGU6ICcxMTAuZ2lmJywgY29kZTogJy86Oi18JywgdGl0bGU6ICflm6cnLHJlZzovXC86Oi1cfC9nIH0sCiAgICAgICAgICAgICAgICB7IGZpbGU6ICcxMTEuZ2lmJywgY29kZTogJy86OkAnLCB0aXRsZTogJ+aAkicscmVnOi9cLzo6QC9nIH0sCiAgICAgICAgICAgICAgICB7IGZpbGU6ICcxMTIuZ2lmJywgY29kZTogJy86OlAnLCB0aXRsZTogJ+iwg+earicscmVnOi9cLzo6UC9nIH0sCiAgICAgICAgICAgICAgICB7IGZpbGU6ICcxMTMuZ2lmJywgY29kZTogJy86OkQnLCB0aXRsZTogJ+eskScscmVnOi9cLzo6RC9nIH0sCiAgICAgICAgICAgICAgICB7IGZpbGU6ICcxMTQuZ2lmJywgY29kZTogJy86Ok8nLCB0aXRsZTogJ+aDiuiuticscmVnOi9cLzo6Ty9nIH0sCiAgICAgICAgICAgICAgICB7IGZpbGU6ICcxMTUuZ2lmJywgY29kZTogJy86OignLCB0aXRsZTogJ+mavui/hycscmVnOi9cLzo6XCgvZyB9LAogICAgICAgICAgICAgICAgeyBmaWxlOiAnMTE2LmdpZicsIGNvZGU6ICcvOjorJywgdGl0bGU6ICfphbcnLHJlZzovXC86OlwrL2cgfSwKICAgICAgICAgICAgICAgIHsgZmlsZTogJzExNy5naWYnLCBjb2RlOiAnLzotLWInLCB0aXRsZTogJ+axlycscmVnOi9cLzotLWIvZyB9LAogICAgICAgICAgICAgICAgeyBmaWxlOiAnMTE4LmdpZicsIGNvZGU6ICcvOjpRJywgdGl0bGU6ICfmipPni4InLHJlZzovXC86OlEvZyB9LAogICAgICAgICAgICAgICAgeyBmaWxlOiAnMTE5LmdpZicsIGNvZGU6ICcvOjpUJywgdGl0bGU6ICflkJAnLHJlZzovXC86OlQvZyB9LAogICAgICAgICAgICAgICAgeyBmaWxlOiAnMTIwLmdpZicsIGNvZGU6ICcvOixAUCcsIHRpdGxlOiAn56yRJyxyZWc6L1wvOixAUC9nIH0sCiAgICAgICAgICAgICAgICB7IGZpbGU6ICcxMjEuZ2lmJywgY29kZTogJy86LEAtRCcsIHRpdGxlOiAn5b+r5LmQJyxyZWc6L1wvOixALUQvZyB9LAogICAgICAgICAgICAgICAgeyBmaWxlOiAnMTIyLmdpZicsIGNvZGU6ICcvOjpkJywgdGl0bGU6ICflpYcnLHJlZzovXC86OmQvZyB9LAogICAgICAgICAgICAgICAgeyBmaWxlOiAnMTIzLmdpZicsIGNvZGU6ICcvOixAbycsIHRpdGxlOiAn5YKyJyAscmVnOi9cLzosQG8vZ30sCiAgICAgICAgICAgICAgICB7IGZpbGU6ICcxMjQuZ2lmJywgY29kZTogJy86OmcnLCB0aXRsZTogJ+mlvycscmVnOi9cLzo6Zy9nIH0sCiAgICAgICAgICAgICAgICB7IGZpbGU6ICcxMjUuZ2lmJywgY29kZTogJy86fC0pJywgdGl0bGU6ICfntK8nICxyZWc6L1wvOlx8LVwpL2d9LAogICAgICAgICAgICAgICAgeyBmaWxlOiAnMTI2LmdpZicsIGNvZGU6ICcvOjohJywgdGl0bGU6ICflkJMnLHJlZzovXC86OiEvZyB9LAogICAgICAgICAgICBdCiAgICAgICAgfQogICAgfSwKICAgIGNyZWF0ZWQoKSB7CiAgICAgIHRoaXMuaW5pdFdlYlNvY2tldCgpOwogICAgfSwKICAgIGRlc3Ryb3llZCgpIHsKICAgICAgdGhpcy53ZWJzb2NrLmNsb3NlKCkgCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGdldEVYUDogZnVuY3Rpb24gKHBhZ2VOb3cscGFnZVNpemUpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuRVhQUy5zbGljZSgocGFnZU5vdyAtIDEpICogcGFnZVNpemUsIHBhZ2VTaXplICogcGFnZU5vdykKICAgICAgICB9LAogICAgICAgIC8v5Y+R6YCB5raI5oGvCiAgICAgICAgc2VuZE1zZzogZnVuY3Rpb24oKXsKCiAgICAgICAgICAgIGlmKHRoaXMuY29udGVudD09JycpewogICAgICAgICAgICAgICAgVG9hc3QoJ+ivt+i+k+WFpea2iOaBrycpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgc2VuZD0nMSwyLCcrdGhpcy5jb250ZW50CiAgICAgICAgICAgIHRoaXMud2Vic29ja2V0c2VuZChzZW5kKTsKCiAgICAgICAgICAgIHRoaXMucmVjb3Jkcy5wdXNoKHsKICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICB0aW1lOiB1dGlsLmZvcm1hdERhdGUuZm9ybWF0KG5ldyBEYXRlKCksJ3l5eXktTU0tZGQgaGg6bW06c3MnKSwKICAgICAgICAgICAgICAgIG5hbWU6ICfnlLDojavnhpknLAogICAgICAgICAgICAgICAgY29udGVudDogdGhpcy5jb250ZW50CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLy8gc2V0VGltZW91dChmdW5jdGlvbigpewogICAgICAgICAgICAvLyAgICAgX3RoaXMucmVjb3Jkcy5wdXNoKHsKICAgICAgICAgICAgLy8gICAgICAgICB0eXBlOiAyLAogICAgICAgICAgICAvLyAgICAgICAgIHRpbWU6IHV0aWwuZm9ybWF0RGF0ZS5mb3JtYXQobmV3IERhdGUoKSwneXl5eS1NTS1kZCBoaDptbTpzcycpLAogICAgICAgICAgICAvLyAgICAgICAgIG5hbWU6ICfmnY7mgIDmraYnLAogICAgICAgICAgICAvLyAgICAgICAgIGNvbnRlbnQ6ICfkvaDlpb3vvIEnCiAgICAgICAgICAgIC8vICAgICB9KTsKICAgICAgICAgICAgLy8gfSwxMDApOwoKICAgICAgICAgICAgdGhpcy5jb250ZW50PScnOwoKICAgICAgICAgICAgdGhpcy5zY3JvbGxUb0JvdHRvbSgpOwogICAgICAgICAgICAvL3RoaXMuZm9jdXNUeHRDb250ZW50KCk7Ly/ogZrnhKbovpPlhaXmoYYKICAgICAgICAKICAgICAgICB9LAogICAgICAKICAgICAgICBmb2N1c1R4dENvbnRlbnQ6ZnVuY3Rpb24oKXsKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3R4dENvbnRlbnQgaW5wdXQiKS5mb2N1cygpOwogICAgICAgIH0sCiAgICAKICAgICAgICBzY3JvbGxUb0JvdHRvbTpmdW5jdGlvbigpewogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICB2YXIgY2hhdGxpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjaGF0bGlzdCcpWzBdOwogICAgICAgICAgICAgICAgY2hhdGxpc3Quc2Nyb2xsVG9wPWNoYXRsaXN0LnNjcm9sbEhlaWdodDsKICAgICAgICAgICAgfSwxMDApOwogICAgICAgIH0sCiAgICAgIAogICAgICAgIHJlcGxhY2VGYWNlOmZ1bmN0aW9uKGNvbil7CiAgICAgICAgICAgIC8vdmFyIF90aGlzPXRoaXM7CiAgICAgICAgICAgIHZhciBleHBzPXRoaXMuRVhQUzsKICAgICAgICAgICAgZm9yKHZhciBpPTA7aTxleHBzLmxlbmd0aDtpKyspewogICAgICAgICAgICAgICAgLy9jb24gPSBjb24ucmVwbGFjZShuZXcgUmVnRXhwKGV4cHNbaV0uY29kZSwnZycpLCAnPGltZyBzcmM9InN0YXRpYy9lbW90aW9uLycgKyBleHBzW2ldLmZpbGUgKyciICBhbHQ9IiIgLz4nKTsKICAgICAgICAgICAgICAgIGNvbiA9IGNvbi5yZXBsYWNlKGV4cHNbaV0ucmVnLCAnPGltZyBzcmM9InN0YXRpYy9lbW90aW9uLycgKyBleHBzW2ldLmZpbGUgKyciICBhbHQ9IiIgLz4nKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gY29uOwogICAgICAgIH0sCiAgICAgICAgaGFuZGxlVG9wQ2hhbmdlKHN0YXR1cykgewogICAgICAgICAgICB0aGlzLnRvcFN0YXR1cyA9IHN0YXR1czsKICAgICAgICB9LAogICAgICAgIGxvYWRUb3AoaWQpIHsKICAgICAgICAgICAgdmFyIF90aGlzPXRoaXM7CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgdmFyIGNoYXRsaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnY2hhdGxpc3QnKVswXTsKICAgICAgICAgICAgICAgIHZhciBvbGRIZWlnaHQ9Y2hhdGxpc3Quc2Nyb2xsSGVpZ2h0OwoKICAgICAgICAgICAgICAgIF90aGlzLnJlY29yZHMudW5zaGlmdCh7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICB0aW1lOiB1dGlsLmZvcm1hdERhdGUuZm9ybWF0KG5ldyBEYXRlKCksJ3l5eXktTU0tZGQgaGg6bW06c3MnKSwKICAgICAgICAgICAgICAgICAgICBuYW1lOiAn5L2gJywKICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAn5L2g5aW977yBJwogICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDIsCiAgICAgICAgICAgICAgICAgICAgdGltZTogdXRpbC5mb3JtYXREYXRlLmZvcm1hdChuZXcgRGF0ZSgpLCd5eXl5LU1NLWRkIGhoOm1tOnNzJyksCiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ+WvueaWuScsCiAgICAgICAgICAgICAgICAgICAgY29udGVudDogJ+S9oOWlve+8gScKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICB2YXIgbmV3SGVpZ2h0PWNoYXRsaXN0LnNjcm9sbEhlaWdodDsKICAgICAgICAgICAgICAgICAgICBjaGF0bGlzdC5zY3JvbGxUb3A9bmV3SGVpZ2h0LW9sZEhlaWdodDsKICAgICAgICAgICAgICAgIH0sMTAwKTsKCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmxvYWRtb3JlLm9uVG9wTG9hZGVkKGlkKTsKICAgICAgICAgICAgfSwgMTUwMCk7CiAgICAgICAgfSwKICAgICAgaW5pdFdlYlNvY2tldCgpeyAvL+WIneWni+WMlndlb3NvY2tldAogICAgICAgIGNvbnN0IHdzdXJpID0gIndzOi8vbG9jYWxob3N0Ojg4ODgvd2Vic29ja2V0IjsKICAgICAgICB0aGlzLndlYnNvY2sgPSBuZXcgV2ViU29ja2V0KHdzdXJpKTsKICAgICAgICB0aGlzLndlYnNvY2sub25tZXNzYWdlID0gdGhpcy53ZWJzb2NrZXRvbm1lc3NhZ2U7CiAgICAgICAgdGhpcy53ZWJzb2NrLm9ub3BlbiA9IHRoaXMud2Vic29ja2V0b25vcGVuOwogICAgICAgIHRoaXMud2Vic29jay5vbmVycm9yID0gdGhpcy53ZWJzb2NrZXRvbmVycm9yOwogICAgICAgIHRoaXMud2Vic29jay5vbmNsb3NlID0gdGhpcy53ZWJzb2NrZXRjbG9zZTsKICAgICAgfSwKICAgICAgd2Vic29ja2V0b25vcGVuKCl7IC8v6L+e5o6l5bu656uL5LmL5ZCO5omn6KGMc2VuZOaWueazleWPkemAgeaVsOaNrgogICAgICAgIGxldCBhY3Rpb25zID0gIjEiOwogICAgICAgIC8vIHRoaXMud2Vic29ja2V0c2VuZChKU09OLnN0cmluZ2lmeShhY3Rpb25zKSk7CiAgICAgICAgdGhpcy53ZWJzb2NrZXRzZW5kKGFjdGlvbnMpOwogICAgICB9LAogICAgICB3ZWJzb2NrZXRvbmVycm9yKCl7Ly/ov57mjqXlu7rnq4vlpLHotKXph43ov54KICAgICAgICB0aGlzLmluaXRXZWJTb2NrZXQoKTsKICAgICAgfSwKICAgICAgd2Vic29ja2V0b25tZXNzYWdlKGUpeyAvL+aVsOaNruaOpeaUtgogICAgICAgIGNvbnNvbGUubG9nKGUuZGF0YSkKICAgICAgICB0aGlzLnJlY29yZHMucHVzaCh7CiAgICAgICAgICAgIHR5cGU6IDIsCiAgICAgICAgICAgIHRpbWU6IHV0aWwuZm9ybWF0RGF0ZS5mb3JtYXQobmV3IERhdGUoKSwneXl5eS1NTS1kZCBoaDptbTpzcycpLAogICAgICAgICAgICBuYW1lOiAn5p2O5oCA5q2mJywKICAgICAgICAgICAgY29udGVudDogZS5kYXRhCiAgICAgICAgfSk7CiAgICAgICAgLy8gY29uc3QgcmVkYXRhID0gSlNPTi5wYXJzZShlLmRhdGEpOwogICAgICAgIC8vIGNvbnNvbGUubG9nKCdyZWNlaXZlJytyZWRhdGEpCiAgICAgIH0sCiAgICAgIHdlYnNvY2tldHNlbmQoRGF0YSl7Ly/mlbDmja7lj5HpgIEKICAgICAgICB0aGlzLndlYnNvY2suc2VuZChEYXRhKTsKICAgICAgICBjb25zb2xlLmxvZygnc2VuZCcrRGF0YSkKICAgICAgfSwKICAgICAgd2Vic29ja2V0Y2xvc2UoZSl7ICAvL+WFs+mXrQogICAgICAgIGNvbnNvbGUubG9nKCfmlq3lvIDov57mjqUnLGUpOwogICAgICB9LAogICAgfSwKICAgIG1vdW50ZWQ6ZnVuY3Rpb24oKXsKICAgICAgICB0aGlzLnNjcm9sbFRvQm90dG9tKCk7CiAgICAgICAgdGhpcy5mb2N1c1R4dENvbnRlbnQoKTsKICAgIH0KfQo="},{"version":3,"sources":["ChatList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ChatList.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n\n        <section class=\"chatlist\" :class=\"showSelBox>0?'chatlist-bottom-collapse':'chatlist-bottom'\">\n            <mt-loadmore :top-method=\"loadTop\" top-pull-text=\"加载更多\" top-drop-text=\"释放加载\" @top-status-change=\"handleTopChange\" ref=\"loadmore\">\n                <ul>\n                    <div v-for=\"item in records\" :key=\"item.index\">\n                        <li class=\"chat-mine\" v-if=\"item.type==1\">\n                            <div class=\"chat-user\"><img src=\"../assets/user.png\"></div>\n                            <div class=\"time\"><cite><i>{{item.time}}</i>{{item.name}}</cite></div>\n                            <div class=\"chat-text\" v-html=\"replaceFace(item.content)\"></div>\n                        </li>\n                        <li v-if=\"item.type==2\">\n                            <div class=\"chat-user\"><img src=\"../assets/default.png\"></div>\n                            <div class=\"time\"><cite>{{item.name}}<i>{{item.time}}</i></cite></div>\n                            <div class=\"chat-text\" v-html=\"replaceFace(item.content)\"></div>\n                        </li>\n                    </div>\n                </ul>\n            </mt-loadmore>\n        </section>\n\n        <section class=\"foot\">\n            <mt-field id=\"txtContent\" placeholder=\"请输入消息\" class=\"con\" v-model=\"content\"></mt-field>\n            <span class=\"btn-face\" v-on:click=\"showSelBox=showSelBox==1?0:1\"><i class=\"fa fa-smile-o\" aria-hidden=\"true\"></i></span>\n            <span class=\"btn-plus\" v-on:click=\"showSelBox=showSelBox==2?0:2\"><i class=\"fa\" aria-hidden=\"true\" :class=\"showSelBox==2?'fa-minus-circle':'fa-plus-circle'\"></i></span>\n            <span class=\"btn btn-send\" v-on:click=\"sendMsg\">发送</span>\n            <section class=\"selbox\" :class=\"showSelBox>0?'show':'hide'\">\n                <section v-show=\"showSelBox==1\" class=\"face-box\">\n                    <mt-swipe :auto=\"0\" :continuous=\"false\">\n                        <mt-swipe-item v-for=\"n in Math.ceil(EXPS.length/18)\" :key=\"n\">\n                            <li v-for=\"(item, index) in getEXP(n,18)\" :key=\"index\">\n                                <img :src=\"'static/emotion/'+item.file\" alt=\"\" :data=\"item.code\" v-on:click=\"content+=item.code\">\n                            </li>\n                        </mt-swipe-item>\n                    </mt-swipe>\n                </section>\n                <div v-show=\"showSelBox==2\">{{selOther}}</div>\n            </section>\n        </section>\n\n    </div>\n</template>\n\n<script>\nimport util from '../utils/util.js'\nimport { Toast } from 'mint-ui';\n\nexport default {\n    name: 'chatlist',\n    data() {\n        return {\n            websock: null,\n            showSelBox: 0, // 0隐藏 1显示表情 2显示其他\n            selFace: '表情',\n            selOther: '其他功能',\n            content:'',\n            topStatus: '',\n            //聊天记录\n            records: [{\n                index: 1,\n                type: 1,\n                time: util.formatDate.format(new Date(),'yyyy-MM-dd hh:mm:ss'),\n                name: '田荫熙',\n                content: '你好，我是田荫熙'\n            }, {\n                index: 2,\n                type: 2,\n                time: util.formatDate.format(new Date(),'yyyy-MM-dd hh:mm:ss'),\n                name: '李怀武',\n                content: '你好，我是李怀武'\n            }],\n            // 表情\n            EXPS: [\n                { file: '100.gif', code: '/::)', title: '微笑',reg:/\\/::\\)/g },\n                { file: '101.gif', code: '/::~', title: '伤心',reg:/\\/::~/g },\n                { file: '102.gif', code: '/::B', title: '美女',reg:/\\/::B/g },\n                { file: '103.gif', code: '/::|', title: '发呆',reg:/\\/::\\|/g },\n                { file: '104.gif', code: '/:8-)', title: '墨镜',reg:/\\/:8-\\)/g },\n                { file: '105.gif', code: '/::<', title: '哭',reg:/\\/::</g },\n                { file: '106.gif', code: '/::$', title: '羞',reg:/\\/::\\$/g },\n                { file: '107.gif', code: '/::X', title: '哑',reg:/\\/::X/g },\n                { file: '108.gif', code: '/::Z', title: '睡',reg:/\\/::Z/g },\n                { file: '109.gif', code: '/::\\'(', title: '哭',reg:/\\/::'\\(/g },\n                { file: '110.gif', code: '/::-|', title: '囧',reg:/\\/::-\\|/g },\n                { file: '111.gif', code: '/::@', title: '怒',reg:/\\/::@/g },\n                { file: '112.gif', code: '/::P', title: '调皮',reg:/\\/::P/g },\n                { file: '113.gif', code: '/::D', title: '笑',reg:/\\/::D/g },\n                { file: '114.gif', code: '/::O', title: '惊讶',reg:/\\/::O/g },\n                { file: '115.gif', code: '/::(', title: '难过',reg:/\\/::\\(/g },\n                { file: '116.gif', code: '/::+', title: '酷',reg:/\\/::\\+/g },\n                { file: '117.gif', code: '/:--b', title: '汗',reg:/\\/:--b/g },\n                { file: '118.gif', code: '/::Q', title: '抓狂',reg:/\\/::Q/g },\n                { file: '119.gif', code: '/::T', title: '吐',reg:/\\/::T/g },\n                { file: '120.gif', code: '/:,@P', title: '笑',reg:/\\/:,@P/g },\n                { file: '121.gif', code: '/:,@-D', title: '快乐',reg:/\\/:,@-D/g },\n                { file: '122.gif', code: '/::d', title: '奇',reg:/\\/::d/g },\n                { file: '123.gif', code: '/:,@o', title: '傲' ,reg:/\\/:,@o/g},\n                { file: '124.gif', code: '/::g', title: '饿',reg:/\\/::g/g },\n                { file: '125.gif', code: '/:|-)', title: '累' ,reg:/\\/:\\|-\\)/g},\n                { file: '126.gif', code: '/::!', title: '吓',reg:/\\/::!/g },\n            ]\n        }\n    },\n    created() {\n      this.initWebSocket();\n    },\n    destroyed() {\n      this.websock.close() \n    },\n    methods: {\n        getEXP: function (pageNow,pageSize) {\n            return this.EXPS.slice((pageNow - 1) * pageSize, pageSize * pageNow)\n        },\n        //发送消息\n        sendMsg: function(){\n\n            if(this.content==''){\n                Toast('请输入消息');\n                return;\n            }\n\n            var send='1,2,'+this.content\n            this.websocketsend(send);\n\n            this.records.push({\n                type: 1,\n                time: util.formatDate.format(new Date(),'yyyy-MM-dd hh:mm:ss'),\n                name: '田荫熙',\n                content: this.content\n            });\n\n            // setTimeout(function(){\n            //     _this.records.push({\n            //         type: 2,\n            //         time: util.formatDate.format(new Date(),'yyyy-MM-dd hh:mm:ss'),\n            //         name: '李怀武',\n            //         content: '你好！'\n            //     });\n            // },100);\n\n            this.content='';\n\n            this.scrollToBottom();\n            //this.focusTxtContent();//聚焦输入框\n        \n        },\n      \n        focusTxtContent:function(){\n            document.querySelector(\"#txtContent input\").focus();\n        },\n    \n        scrollToBottom:function(){\n            setTimeout(function(){\n                var chatlist = document.getElementsByClassName('chatlist')[0];\n                chatlist.scrollTop=chatlist.scrollHeight;\n            },100);\n        },\n      \n        replaceFace:function(con){\n            //var _this=this;\n            var exps=this.EXPS;\n            for(var i=0;i<exps.length;i++){\n                //con = con.replace(new RegExp(exps[i].code,'g'), '<img src=\"static/emotion/' + exps[i].file +'\"  alt=\"\" />');\n                con = con.replace(exps[i].reg, '<img src=\"static/emotion/' + exps[i].file +'\"  alt=\"\" />');\n            }\n            return con;\n        },\n        handleTopChange(status) {\n            this.topStatus = status;\n        },\n        loadTop(id) {\n            var _this=this;\n            setTimeout(() => {\n                var chatlist = document.getElementsByClassName('chatlist')[0];\n                var oldHeight=chatlist.scrollHeight;\n\n                _this.records.unshift({\n                    type: 1,\n                    time: util.formatDate.format(new Date(),'yyyy-MM-dd hh:mm:ss'),\n                    name: '你',\n                    content: '你好！'\n                }, {\n                    type: 2,\n                    time: util.formatDate.format(new Date(),'yyyy-MM-dd hh:mm:ss'),\n                    name: '对方',\n                    content: '你好！'\n                });\n\n                setTimeout(function(){\n                    var newHeight=chatlist.scrollHeight;\n                    chatlist.scrollTop=newHeight-oldHeight;\n                },100);\n\n                this.$refs.loadmore.onTopLoaded(id);\n            }, 1500);\n        },\n      initWebSocket(){ //初始化weosocket\n        const wsuri = \"ws://localhost:8888/websocket\";\n        this.websock = new WebSocket(wsuri);\n        this.websock.onmessage = this.websocketonmessage;\n        this.websock.onopen = this.websocketonopen;\n        this.websock.onerror = this.websocketonerror;\n        this.websock.onclose = this.websocketclose;\n      },\n      websocketonopen(){ //连接建立之后执行send方法发送数据\n        let actions = \"1\";\n        // this.websocketsend(JSON.stringify(actions));\n        this.websocketsend(actions);\n      },\n      websocketonerror(){//连接建立失败重连\n        this.initWebSocket();\n      },\n      websocketonmessage(e){ //数据接收\n        console.log(e.data)\n        this.records.push({\n            type: 2,\n            time: util.formatDate.format(new Date(),'yyyy-MM-dd hh:mm:ss'),\n            name: '李怀武',\n            content: e.data\n        });\n        // const redata = JSON.parse(e.data);\n        // console.log('receive'+redata)\n      },\n      websocketsend(Data){//数据发送\n        this.websock.send(Data);\n        console.log('send'+Data)\n      },\n      websocketclose(e){  //关闭\n        console.log('断开连接',e);\n      },\n    },\n    mounted:function(){\n        this.scrollToBottom();\n        this.focusTxtContent();\n    }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style>\n    .chatlist {\n        position: absolute;\n        top: 60px;\n        bottom: 48px;\n        left: 0px;\n        right: 0px;\n        overflow-y: scroll;\n        overflow-x: hidden;\n        padding: 10px;\n    }\n    \n    .chatlist-bottom {\n        bottom: 48px;\n    }\n    \n    .chatlist-bottom-collapse {\n        bottom: 198px;\n    }\n    \n    .chatlist ul {\n        min-height: 300px;\n    }\n    \n    .chatlist ul .chat-mine {\n        text-align: right;\n        padding-left: 0;\n        padding-right: 60px;\n    }\n    \n    .chatlist ul li {\n        position: relative;\n        /*font-size: 0;*/\n        margin-bottom: 10px;\n        padding-left: 60px;\n        min-height: 68px;\n    }\n    \n    .chat-mine .chat-user {\n        left: auto;\n        right: 3px;\n    }\n    \n    .chat-user {\n        position: absolute;\n        left: 3px;\n    }\n    \n    .chat-text,\n    .chat-user {\n        display: inline-block;\n        vertical-align: top;\n        /*font-size: 14px;*/\n    }\n    \n    .chat-user img {\n        width: 40px;\n        height: 40px;\n        border-radius: 100%;\n    }\n    \n    .time {\n        width: 100%;\n    }\n    \n    cite {\n        left: auto;\n        right: 60px;\n        text-align: right;\n    }\n    \n    cite {\n        font-style: normal;\n        line-height: 24px;\n        font-size: 12px;\n        white-space: nowrap;\n        color: #999;\n        text-align: left;\n    }\n    \n    cite i {\n        font-style: normal;\n        padding-left: 5px;\n        padding-right: 5px;\n        font-size: 12px;\n    }\n    \n    .chat-mine .chat-text {\n        margin-left: 0;\n        text-align: left;\n        background-color: #33DF83;\n        color: #fff;\n    }\n    \n    .chat-text {\n        position: relative;\n        line-height: 22px;\n        /*margin-top: 25px;*/\n        padding: 10px 15px;\n        background-color: #eee;\n        border-radius: 3px;\n        color: #333;\n        word-break: break-all;\n        max-width: 462px\\9;\n    }\n    \n    .chat-text,\n    .chat-user {\n        display: inline-block;\n        vertical-align: top;\n        font-size: 14px;\n    }\n    \n    .chat-text img {\n        max-width: 100%;\n        vertical-align: middle;\n    }\n    \n    .chat-user {\n        position: absolute;\n        left: 3px;\n    }\n    \n    .chat-text:after {\n        content: '';\n        position: absolute;\n        left: -10px;\n        top: 15px;\n        width: 0;\n        height: 0;\n        border-style: solid dashed dashed;\n        border-color: #eee transparent transparent;\n        overflow: hidden;\n        border-width: 10px;\n    }\n    \n    .chat-mine .chat-text:after {\n        left: auto;\n        right: -10px;\n        border-top-color: #33DF83;\n    }\n    \n    .foot {\n        width: 100%;\n        min-height: 48px;\n        position: fixed;\n        bottom: 0px;\n        left: 0px;\n        background-color: #F8F8F8;\n    }\n    \n    .foot .con {\n        position: absolute;\n        left: 66px;\n        right: 40px;\n    }\n    \n    .foot .btn-plus {\n        width: 28px;\n        padding: 9px 3px;\n        position: absolute;\n        left: 0px;\n        border-left: 1px solid #d9d9d9;\n    }\n    \n    .foot .btn-plus i {\n        font-size: 2em;\n        color: #ccc;\n    }\n    \n    .foot .btn-face {\n        width: 28px;\n        padding: 9px 3px 9px 0px;\n        position: absolute;\n        left: 35px;\n        /*border-right: 1px solid #d9d9d9;*/\n    }\n    \n    .foot .btn-face i {\n        font-size: 2em;\n        color: #d9d9d9;\n    }\n    \n    .foot .selbox {\n        height: 150px;\n        margin-top: 48px;\n        border-top: 1px solid #d9d9d9;\n    }\n    \n    .show {\n        display: block;\n    }\n    \n    .hide {\n        display: none;\n    }\n    \n    .face-box {\n        /* position: absolute; */\n        /* top: 48px; */\n        /* left: 0px; */\n        /* right: 0px; */\n        /* bottom: 0px; */\n        padding: 15px 15px 0px 15px;\n        overflow: hidden;\n        width: 290px;\n        margin: 0px auto;\n        height: 135px;\n    }\n    \n    .face-box li {\n        width: 30px;\n        float: left;\n        padding: 6px 10px 0px 8px;\n    }\n    \n    .btn {\n        display: inline-block;\n        vertical-align: top;\n        font-size: 14px;\n        line-height: 32px;\n        margin-left: 5px;\n        padding: 0 6px;\n        background-color: #33DF83;\n        color: #fff;\n        border-radius: 3px;\n    }\n    \n    .btn-send {\n        position: absolute;\n        right: 0px;\n        top: 8px;\n    }\n</style>"]}]}